[
  {
    "objectID": "models/trees.html",
    "href": "models/trees.html",
    "title": "Classification Tree",
    "section": "",
    "text": "Decision trees are intuitive, tree-structured models that split the data based on feature values to predict an outcome. Each internal node represents a decision based on a feature, and each leaf node represents a predicted class. The tree grows by recursively choosing the split that best separates the data based on criteria like information gain. Decision trees are valued for:\nIn this analysis, we’ll use a decision tree to classify students based on whether they carry weapons to school. This approach allows us to explore simple, rule-based decision paths that might reflect real-world patterns or risk factors."
  },
  {
    "objectID": "models/trees.html#setting-up-the-environment",
    "href": "models/trees.html#setting-up-the-environment",
    "title": "Classification Tree",
    "section": "Setting Up the Environment",
    "text": "Setting Up the Environment\nFirst, we need to load the necessary packages for our analysis. We’ll use tidymodels for modeling, tidyverse for data manipulation, and here for consistent file paths."
  },
  {
    "objectID": "models/trees.html#loading-the-data",
    "href": "models/trees.html#loading-the-data",
    "title": "Classification Tree",
    "section": "Loading the Data",
    "text": "Loading the Data\nWe’ll work with pre-processed data sets that have been split into training and test sets, along with cross-validation folds. These files are stored in the processed_data directory.\n\nanalysis_data &lt;- readRDS(here(\"models\",\"data\",\"analysis_data.rds\"))\nanalysis_train &lt;- readRDS(here(\"models\",\"data\", \"analysis_train.rds\"))\nanalysis_folds &lt;- readRDS(here(\"models\",\"data\", \"analysis_folds.rds\"))"
  },
  {
    "objectID": "models/trees.html#data-preprocessing",
    "href": "models/trees.html#data-preprocessing",
    "title": "Classification Tree",
    "section": "Data Preprocessing",
    "text": "Data Preprocessing\nBefore fitting our model, we need to preprocess the data. We’ll create a recipe that: - Imputes missing values in categorical variables using the mode - Imputes missing values in numeric variables using the mean\n\nweapon_carrying_tree_rec &lt;-\n  recipe(formula = WeaponCarryingSchool ~ ., data = analysis_train) |&gt;\n  step_impute_mode(all_nominal_predictors()) |&gt;\n  step_impute_mean(all_numeric_predictors())\n\nweapon_carrying_tree_rec\n\n\n\n\n── Recipe ──────────────────────────────────────────────────────────────────────\n\n\n\n\n\n── Inputs \n\n\nNumber of variables by role\n\n\noutcome:    1\npredictor: 10\n\n\n\n\n\n── Operations \n\n\n• Mode imputation for: all_nominal_predictors()\n\n\n• Mean imputation for: all_numeric_predictors()\n\n\nLet’s apply our recipe to transform the data according to these preprocessing steps.\n\nweapon_carrying_tree_rec %&gt;% \n  prep() %&gt;% \n  bake(new_data = analysis_train) \n\n# A tibble: 14,696 × 11\n   AttackedInNeighborhood Bullying SexualAbuseByOlderPer…¹ ParentalPhysicalAbuse\n   &lt;fct&gt;                  &lt;fct&gt;    &lt;fct&gt;                   &lt;fct&gt;                \n 1 0                      0        0                       0                    \n 2 0                      1        0                       0                    \n 3 0                      0        0                       0                    \n 4 0                      0        1                       0                    \n 5 1                      0        0                       1                    \n 6 0                      0        0                       0                    \n 7 0                      0        0                       0                    \n 8 0                      0        0                       0                    \n 9 0                      0        1                       0                    \n10 1                      0        0                       0                    \n# ℹ 14,686 more rows\n# ℹ abbreviated name: ¹​SexualAbuseByOlderPerson\n# ℹ 7 more variables: ParentSubstanceUse &lt;fct&gt;, ParentIncarceration &lt;fct&gt;,\n#   SchoolConnectedness &lt;fct&gt;, ParentalMonitoring &lt;fct&gt;,\n#   UnfairDisciplineAtSchool &lt;fct&gt;, Homelessness &lt;fct&gt;,\n#   WeaponCarryingSchool &lt;fct&gt;"
  },
  {
    "objectID": "models/trees.html#model-specification",
    "href": "models/trees.html#model-specification",
    "title": "Classification Tree",
    "section": "Model Specification",
    "text": "Model Specification\nWe’ll use a classification decision tree to model the outcome variable. Decision trees recursively split the data into subsets based on the most informative predictor at each step, using a criterion such as information gain to guide the splits. We’ll tune key hyperparameters such as cost_complexity (which controls pruning) and tree_depth (which limits the depth of the tree) to prevent overfitting and improve generalization. The goal is to produce a tree that is both accurate and interpretable.\n\nweapon_carrying_tree_spec &lt;- \n  decision_tree(\n   cost_complexity = tune(),\n   tree_depth = tune(),\n   min_n = tune()) |&gt;  \n  set_engine(\"rpart\") |&gt; \n  set_mode(\"classification\")\n\nweapon_carrying_tree_spec \n\nDecision Tree Model Specification (classification)\n\nMain Arguments:\n  cost_complexity = tune()\n  tree_depth = tune()\n  min_n = tune()\n\nComputational engine: rpart"
  },
  {
    "objectID": "models/trees.html#creating-the-workflow",
    "href": "models/trees.html#creating-the-workflow",
    "title": "Classification Tree",
    "section": "Creating the Workflow",
    "text": "Creating the Workflow\nWe’ll combine our recipe and model specification into a single workflow. This ensures that all preprocessing steps are properly applied during both training and prediction.\n\nweapon_carrying_tree_wf &lt;- \n  workflow() |&gt; \n  add_recipe(weapon_carrying_tree_rec) |&gt; \n  add_model(weapon_carrying_tree_spec)\n\nweapon_carrying_tree_wf\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: decision_tree()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n2 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n\n── Model ───────────────────────────────────────────────────────────────────────\nDecision Tree Model Specification (classification)\n\nMain Arguments:\n  cost_complexity = tune()\n  tree_depth = tune()\n  min_n = tune()\n\nComputational engine: rpart \n\n\nTo find the optimal decision tree parameters, we’ll define a regular grid across several key hyperparameters (cost_complexity, tree_depth, min_n). We’ll use a regular grid with 4 levels for each parameter, exploring combinations within the specified ranges.\n\ntree_grid &lt;- \n  grid_regular(cost_complexity(),\n               tree_depth(c(2, 5)),\n               min_n(), \n               levels = 4)\ntree_grid\n\n# A tibble: 64 × 3\n   cost_complexity tree_depth min_n\n             &lt;dbl&gt;      &lt;int&gt; &lt;int&gt;\n 1    0.0000000001          2     2\n 2    0.0000001             2     2\n 3    0.0001                2     2\n 4    0.1                   2     2\n 5    0.0000000001          3     2\n 6    0.0000001             3     2\n 7    0.0001                3     2\n 8    0.1                   3     2\n 9    0.0000000001          4     2\n10    0.0000001             4     2\n# ℹ 54 more rows\n\n\nNow, we’ll perform cross-validation to find the best penalty value. This process is time-consuming, so we’ll save the results for future use.\n\nweapon_carrying_tree_tune &lt;- \n  weapon_carrying_tree_wf %&gt;% \n  tune_grid(resamples = analysis_folds,\n            grid = tree_grid, \n            metrics = metric_set(roc_auc),\n            control = control_grid(save_pred = TRUE)\n  )\n\nsaveRDS(weapon_carrying_tree_tune, here(\"models\",\"model_outputs\", \"tree_tune.rds\"))"
  },
  {
    "objectID": "models/trees.html#selecting-the-best-model",
    "href": "models/trees.html#selecting-the-best-model",
    "title": "Classification Tree",
    "section": "Selecting the Best Model",
    "text": "Selecting the Best Model\nWe’ll select the best model based on the ROC AUC metric, which measures the model’s ability to distinguish between classes.\n\nshow_best(weapon_carrying_tree_tune, metric = \"roc_auc\")\n\n# A tibble: 5 × 9\n  cost_complexity tree_depth min_n .metric .estimator  mean     n std_err\n            &lt;dbl&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;\n1    0.0000000001          5     2 roc_auc binary     0.592     5  0.0226\n2    0.0000001             5     2 roc_auc binary     0.592     5  0.0226\n3    0.0001                5     2 roc_auc binary     0.592     5  0.0226\n4    0.0000000001          5    14 roc_auc binary     0.590     5  0.0223\n5    0.0000001             5    14 roc_auc binary     0.590     5  0.0223\n# ℹ 1 more variable: .config &lt;chr&gt;"
  },
  {
    "objectID": "models/trees.html#plotting-the-hyperparameters",
    "href": "models/trees.html#plotting-the-hyperparameters",
    "title": "Classification Tree",
    "section": "Plotting the Hyperparameters",
    "text": "Plotting the Hyperparameters\n\nbestPlot_weapon_carrying_tree &lt;- \n  autoplot(weapon_carrying_tree_tune)\n\nbestPlot_weapon_carrying_tree\n\n\n\n\n\nbest_weapon_carrying_tree &lt;- select_best(\n  weapon_carrying_tree_tune, \n  metric = \"roc_auc\")\n\nbest_weapon_carrying_tree\n\n# A tibble: 1 × 4\n  cost_complexity tree_depth min_n .config              \n            &lt;dbl&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                \n1    0.0000000001          5     2 Preprocessor1_Model13\n\n\nNow we’ll create our final workflow with the best hyperparameters.\n\nweapon_carrying_tree_final_wf &lt;- finalize_workflow(weapon_carrying_tree_wf, best_weapon_carrying_tree)\nweapon_carrying_tree_final_wf\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: decision_tree()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n2 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n\n── Model ───────────────────────────────────────────────────────────────────────\nDecision Tree Model Specification (classification)\n\nMain Arguments:\n  cost_complexity = 1e-10\n  tree_depth = 5\n  min_n = 2\n\nComputational engine: rpart"
  },
  {
    "objectID": "models/trees.html#fitting-the-final-model",
    "href": "models/trees.html#fitting-the-final-model",
    "title": "Classification Tree",
    "section": "Fitting the Final Model",
    "text": "Fitting the Final Model\nWe’ll fit our final model on the training data. This process is also time-consuming, so we’ll save the results.\n\nweapon_carrying_tree_fit &lt;- fit(\n  weapon_carrying_tree_final_wf, \n  analysis_train)\n\nweapon_carrying_tree_fit\n\nsaveRDS(weapon_carrying_tree_fit, here(\"models\",\"model_outputs\", \"tree_fit.rds\"))"
  },
  {
    "objectID": "models/trees.html#model-evaluation",
    "href": "models/trees.html#model-evaluation",
    "title": "Classification Tree",
    "section": "Model Evaluation",
    "text": "Model Evaluation\nLet’s examine the model’s predictions on the training data.\n\ntree_pred &lt;- \n  augment(weapon_carrying_tree_fit, analysis_train) |&gt; \n  select(WeaponCarryingSchool, .pred_class, .pred_1, .pred_0)\n\ntree_pred\n\n# A tibble: 14,696 × 4\n   WeaponCarryingSchool .pred_class .pred_1 .pred_0\n   &lt;fct&gt;                &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;\n 1 0                    0            0.0396   0.960\n 2 0                    0            0.0396   0.960\n 3 0                    0            0.0396   0.960\n 4 0                    0            0.0396   0.960\n 5 0                    0            0.0396   0.960\n 6 0                    0            0.0396   0.960\n 7 0                    0            0.0396   0.960\n 8 0                    0            0.0396   0.960\n 9 0                    0            0.0396   0.960\n10 0                    0            0.0396   0.960\n# ℹ 14,686 more rows\n\n\nWe can visualize the model’s performance using an ROC curve.\n\nroc_tree &lt;- \n  tree_pred |&gt; \n  roc_curve(truth = WeaponCarryingSchool, \n           .pred_1, \n           event_level = \"second\") |&gt; \n  autoplot()\n\nroc_tree\n\nsaveRDS(roc_tree, here(\"models\",\"roc_graphs\",\"tree.rds\"))\n\ntree_pred |&gt; \n  roc_auc(truth = WeaponCarryingSchool, \n           .pred_1, \n           event_level = \"second\")"
  },
  {
    "objectID": "models/trees.html#cross-validation-results",
    "href": "models/trees.html#cross-validation-results",
    "title": "Classification Tree",
    "section": "Cross-Validation Results",
    "text": "Cross-Validation Results\nWe’ll fit the model on each cross-validation fold to get a more robust estimate of its performance.\n\nfit_resamples(weapon_carrying_tree_final_wf, resamples = analysis_folds) |&gt; \n  collect_metrics()\n\n# A tibble: 3 × 6\n  .metric     .estimator   mean     n std_err .config             \n  &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy    binary     0.955      5 0.00141 Preprocessor1_Model1\n2 brier_class binary     0.0412     5 0.00135 Preprocessor1_Model1\n3 roc_auc     binary     0.592      5 0.0226  Preprocessor1_Model1"
  },
  {
    "objectID": "models/trees.html#tree-graph",
    "href": "models/trees.html#tree-graph",
    "title": "Classification Tree",
    "section": "Tree Graph",
    "text": "Tree Graph\nFinally, let’s create a graphical representation of the tree.\n\nweapon_carrying_tree_fit |&gt; \n  extract_fit_engine() |&gt; \n  rpart.plot::rpart.plot(roundint=FALSE)"
  },
  {
    "objectID": "models/logistic.html",
    "href": "models/logistic.html",
    "title": "Logistic Regression",
    "section": "",
    "text": "Logistic regression is a classification method used to model the probability that a binary outcome occurs, based on one or more predictor variables. Unlike linear regression, which predicts continuous values, logistic regression uses the logistic (sigmoid) function to constrain predictions between 0 and 1. It assumes a linear relationship between the predictors and the log-odds of the outcome. Logistic regression is widely used because it:\nIn this analysis, we’ll use logistic regression to predict whether a student is likely to carry a weapon to school, helping us understand how factors such as prior behavior, peer influence, and school climate relate to the outcome."
  },
  {
    "objectID": "models/logistic.html#setting-up-the-environment",
    "href": "models/logistic.html#setting-up-the-environment",
    "title": "Logistic Regression",
    "section": "Setting Up the Environment",
    "text": "Setting Up the Environment\nFirst, we need to load the necessary packages for our analysis. We’ll use tidymodels for modeling, tidyverse for data manipulation, and here for consistent file paths.\n\nLoading the Data\nWe’ll work with pre-processed data sets that have been split into training and test sets, along with cross-validation folds. These files are stored in the processed_data directory.\n\nanalysis_data &lt;- readRDS(here(\"models\",\"data\",\"analysis_data.rds\"))\nanalysis_train &lt;- readRDS(here(\"models\",\"data\",\"analysis_train.rds\"))"
  },
  {
    "objectID": "models/logistic.html#data-preprocessing",
    "href": "models/logistic.html#data-preprocessing",
    "title": "Logistic Regression",
    "section": "Data Preprocessing",
    "text": "Data Preprocessing\nBefore fitting our model, we need to preprocess the data. We’ll create a recipe that: - Imputes missing values in categorical variables using the mode - Imputes missing values in numeric variables using the mean - Removes predictors with zero variance - Removes highly correlated predictors (correlation threshold = 0.7)\n\nweapon_carry_recipe &lt;-\n  recipe(formula = WeaponCarryingSchool ~ ., data = analysis_data) %&gt;% \n  step_impute_mode(all_nominal_predictors()) %&gt;% \n  step_impute_mean(all_numeric_predictors()) %&gt;% \n  step_zv(all_predictors()) %&gt;% \n  step_corr(all_numeric_predictors(), threshold = 0.7)\n\nweapon_carry_recipe\n\n\n\n\n── Recipe ──────────────────────────────────────────────────────────────────────\n\n\n\n\n\n── Inputs \n\n\nNumber of variables by role\n\n\noutcome:    1\npredictor: 10\n\n\n\n\n\n── Operations \n\n\n• Mode imputation for: all_nominal_predictors()\n\n\n• Mean imputation for: all_numeric_predictors()\n\n\n• Zero variance filter on: all_predictors()\n\n\n• Correlation filter on: all_numeric_predictors()\n\n\nLet’s apply our recipe to transform the data according to these preprocessing steps.\n\nrec &lt;- weapon_carry_recipe %&gt;% \n  prep() %&gt;% \n  bake(new_data = analysis_data) %&gt;% \n  glimpse()\n\nRows: 19,595\nColumns: 11\n$ AttackedInNeighborhood   &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, …\n$ Bullying                 &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ SexualAbuseByOlderPerson &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, …\n$ ParentalPhysicalAbuse    &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ ParentSubstanceUse       &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, …\n$ ParentIncarceration      &lt;fct&gt; 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ SchoolConnectedness      &lt;fct&gt; 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, …\n$ ParentalMonitoring       &lt;fct&gt; 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, …\n$ UnfairDisciplineAtSchool &lt;fct&gt; 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ Homelessness             &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ WeaponCarryingSchool     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …"
  },
  {
    "objectID": "models/logistic.html#model-specification",
    "href": "models/logistic.html#model-specification",
    "title": "Logistic Regression",
    "section": "Model Specification",
    "text": "Model Specification\nWe’ll use a standard logistic regression model to predict a binary outcome. Logistic regression models the log-odds of the outcome as a linear combination of the predictors. It does not include any form of regularization by default, so all predictors are retained unless manually excluded. This makes it a good baseline model for interpreting how individual features relate to the outcome. We’ll include all relevant predictors and assess their individual contributions to the likelihood of weapon carrying.\n\nweapon_carry_spec &lt;-\n  logistic_reg() %&gt;% \n  set_mode(\"classification\") %&gt;% \n  set_engine(\"glm\")\n\nweapon_carry_spec\n\nLogistic Regression Model Specification (classification)\n\nComputational engine: glm"
  },
  {
    "objectID": "models/logistic.html#creating-the-workflow",
    "href": "models/logistic.html#creating-the-workflow",
    "title": "Logistic Regression",
    "section": "Creating the Workflow",
    "text": "Creating the Workflow\nWe’ll combine our recipe and model specification into a single workflow. This ensures that all preprocessing steps are properly applied during both training and prediction.\n\nweapon_carry_workflow &lt;- workflow() %&gt;% \n  add_recipe(weapon_carry_recipe) %&gt;% \n  add_model(weapon_carry_spec)\n\nweapon_carry_workflow\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n4 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_zv()\n• step_corr()\n\n── Model ───────────────────────────────────────────────────────────────────────\nLogistic Regression Model Specification (classification)\n\nComputational engine: glm"
  },
  {
    "objectID": "models/logistic.html#fitting-the-final-model",
    "href": "models/logistic.html#fitting-the-final-model",
    "title": "Logistic Regression",
    "section": "Fitting the Final Model",
    "text": "Fitting the Final Model\nWe’ll fit our final model on the training data. This process is also time-consuming, so we’ll save the results.\n\nmod1 &lt;- \n  fit(weapon_carry_workflow, data = analysis_train)\n\nmod1\n\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n4 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_zv()\n• step_corr()\n\n── Model ───────────────────────────────────────────────────────────────────────\n\nCall:  stats::glm(formula = ..y ~ ., family = stats::binomial, data = data)\n\nCoefficients:\n              (Intercept)    AttackedInNeighborhood1  \n                 -3.29938                    0.74950  \n                Bullying1  SexualAbuseByOlderPerson1  \n                  0.48405                    0.46540  \n   ParentalPhysicalAbuse1        ParentSubstanceUse1  \n                  0.71713                   -0.15917  \n     ParentIncarceration1       SchoolConnectedness1  \n                  0.07048                   -0.25542  \n      ParentalMonitoring1  UnfairDisciplineAtSchool1  \n                  0.59860                   -0.24268  \n            Homelessness1  \n                  1.18053  \n\nDegrees of Freedom: 14695 Total (i.e. Null);  14685 Residual\nNull Deviance:      5238 \nResidual Deviance: 4872     AIC: 4894\n\nsaveRDS(mod1, here(\"models\",\"model_outputs\",\"logistic_fit.rds\"))\n\n\ntidy_model &lt;-\n  mod1 %&gt;% \n  tidy(exponentiate = TRUE,\n       conf.int = TRUE,\n       conf.level = 0.95) %&gt;% \n  mutate(p.value = scales::pvalue(p.value))\n\ntidy_model\n\n# A tibble: 11 × 7\n   term                  estimate std.error statistic p.value conf.low conf.high\n   &lt;chr&gt;                    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n 1 (Intercept)             0.0369    0.166    -19.9   &lt;0.001    0.0266    0.0508\n 2 AttackedInNeighborho…   2.12      0.0954     7.85  &lt;0.001    1.75      2.55  \n 3 Bullying1               1.62      0.0919     5.27  &lt;0.001    1.35      1.94  \n 4 SexualAbuseByOlderPe…   1.59      0.133      3.51  &lt;0.001    1.22      2.06  \n 5 ParentalPhysicalAbus…   2.05      0.179      4.01  &lt;0.001    1.43      2.89  \n 6 ParentSubstanceUse1     0.853     0.111     -1.44  0.151     0.688     1.06  \n 7 ParentIncarceration1    1.07      0.126      0.560 0.575     0.841     1.38  \n 8 SchoolConnectedness1    0.775     0.0970    -2.63  0.008     0.639     0.935 \n 9 ParentalMonitoring1     1.82      0.114      5.26  &lt;0.001    1.45      2.27  \n10 UnfairDisciplineAtSc…   0.785     0.114     -2.13  0.033     0.629     0.984 \n11 Homelessness1           3.26      0.155      7.61  &lt;0.001    2.39      4.39  \n\nsaveRDS(tidy_model, here(\"models\",\"model_outputs\", \"logistic_tidy_fit.rds\"))"
  },
  {
    "objectID": "models/logistic.html#model-evaluation",
    "href": "models/logistic.html#model-evaluation",
    "title": "Logistic Regression",
    "section": "Model Evaluation",
    "text": "Model Evaluation\nLet’s examine the model’s predictions on the training data.\n\nweapon_pred_logistic &lt;-\n  augment(mod1, analysis_train) %&gt;% \n  select(WeaponCarryingSchool, .pred_class, .pred_1, .pred_0)\n\nweapon_pred_logistic\n\n# A tibble: 14,696 × 4\n   WeaponCarryingSchool .pred_class .pred_1 .pred_0\n   &lt;fct&gt;                &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;\n 1 0                    0            0.0360   0.964\n 2 0                    0            0.0412   0.959\n 3 0                    0            0.0241   0.976\n 4 0                    0            0.0317   0.968\n 5 0                    0            0.128    0.872\n 6 0                    0            0.0360   0.964\n 7 0                    0            0.0201   0.980\n 8 0                    0            0.0201   0.980\n 9 0                    0            0.0471   0.953\n10 0                    0            0.0531   0.947\n# ℹ 14,686 more rows\n\n\nWe can visualize the model’s performance using a confusion matrix.\n\nweapon_pred_logistic %&gt;% \n  conf_mat(WeaponCarryingSchool, .pred_class) %&gt;% \n  autoplot(type = \"heatmap\")\n\n\n\n\nWe can visualize the model’s performance using an ROC curve.\n\nroc_plot_logistic &lt;-\n  weapon_pred_logistic %&gt;% \n  roc_curve(truth = WeaponCarryingSchool, .pred_1, event_level = \"second\") %&gt;% \n  autoplot()\n\n\nsaveRDS(roc_plot_logistic, here(\"models\",\"roc_graphs\", \"logistic.rds\"))\n\nroc_plot_logistic"
  },
  {
    "objectID": "models/datasets.html",
    "href": "models/datasets.html",
    "title": "Data and Research Question",
    "section": "",
    "text": "The Youth Risk Behavior Survey (YRBS) is a national survey that monitors health-related behaviors among high school students, including weapon carrying and associated risk factors.\n\n\n\nSource: Centers for Disease Control and Prevention (CDC)\nYear: 2023\nTarget Population: High school students\nSample Size: Approximately 19,000 students nationwide\n\n\n\n\nHow do logistic regression, lasso, and tree-based models compare in predicting school-based weapon carrying among adolescents based on risk and protective factors?\n\n\n\nThe dataset includes information on various health-related behaviors:\n\nOutcome\n\nWeapon Carrying (Carried a weapon on school property)\n\nPredictors\n\nTraumatic experiences\nSchool Safety Perceptions\nBullying Experiences\nFamily Support\nSocial Media Use\nPeer Relationships\n\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(dissertationData)\nlibrary(here)\nlibrary(skimr)\ndata(clean_yrbs_2023)\n\n\n\n\n\nglimpse(clean_yrbs_2023)\n\nRows: 20,103\nColumns: 110\n$ weight                        &lt;dbl&gt; 0.8614, 0.8920, 0.5081, 1.1759, 0.8920, …\n$ stratum                       &lt;dbl&gt; 103, 103, 103, 103, 103, 103, 103, 103, …\n$ psu                           &lt;dbl&gt; 16294, 16294, 16294, 16294, 16294, 16294…\n$ Sex                           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Female\", \"Mal…\n$ Race                          &lt;chr&gt; NA, \"White\", \"White\", \"White\", \"White\", …\n$ Age                           &lt;int&gt; 14, 15, 16, 17, 14, 16, 17, 15, 15, 17, …\n$ Grade                         &lt;chr&gt; \"9\", \"9\", \"11\", \"10\", \"9\", \"9\", \"11\", \"9…\n$ SexOrientation                &lt;chr&gt; \"Gay or Lesbian\", \"Heterosexual\", \"Bisex…\n$ HispanicLatino                &lt;fct&gt; NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, …\n$ Height                        &lt;dbl&gt; 1.65, NA, 1.68, NA, 1.85, 1.80, 1.83, 1.…\n$ Weight                        &lt;dbl&gt; 81.65, NA, 74.84, NA, 56.70, 72.58, 74.8…\n$ SeatBeltUse                   &lt;fct&gt; 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1…\n$ DrinkingDriver                &lt;fct&gt; 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0…\n$ DrivingDrinking               &lt;fct&gt; NA, NA, 0, 0, NA, NA, NA, NA, NA, 0, NA,…\n$ TextingDriving                &lt;fct&gt; NA, NA, 1, 1, NA, NA, NA, NA, NA, NA, NA…\n$ WeaponCarryingSchool          &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ GunCarrying                   &lt;fct&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ UnsafeAtSchool                &lt;fct&gt; 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0…\n$ InjuredInSchool               &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ PhysicalFight                 &lt;fct&gt; 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ SchoolPhysicalFight           &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ AttackedInNeighborhood        &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0…\n$ ForcedSexualIntercourse       &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ SexualViolence                &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SexualAbuseByPartner          &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ PhysicalDatingViolence        &lt;fct&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, NA, 0, 0,…\n$ TreatedUnfairlyRace           &lt;fct&gt; 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0…\n$ Bullying                      &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CyberBullying                 &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ Hopelessness                  &lt;fct&gt; 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0…\n$ SuicideIdeation               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, NA, 0, 1, 0, …\n$ SuicidePlan                   &lt;fct&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0…\n$ SuicideAttempts               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ SuicideInjuryMedicalAttention &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverTriedCigarette            &lt;fct&gt; 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, NA, …\n$ FirstCigaretteBefore13        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, …\n$ CurrentlySmokingCigarette     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ MoreThan10CigarettesPerDay    &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ EverTriedVaping               &lt;fct&gt; 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0…\n$ CurrentlyVaping               &lt;fct&gt; 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ StoreSourceVaping             &lt;fct&gt; NA, NA, 0, 0, NA, NA, 0, NA, NA, NA, NA,…\n$ CurrentlySmokelessTobacco     &lt;fct&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlySmokingCigar         &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ QuitTobacco                   &lt;fct&gt; NA, NA, 0, 0, 0, NA, 0, NA, NA, NA, NA, …\n$ FirstAlcoholBefore13          &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0…\n$ CurrentlyAlcohol              &lt;fct&gt; 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlyBingeDrinking        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ MoreThan10Drinks              &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SomeoneSourceAlcohol          &lt;fct&gt; NA, NA, NA, 0, 0, NA, 0, NA, NA, NA, NA,…\n$ EverUsedMarijuana             &lt;fct&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1…\n$ FirstMarijuanaBefore13        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlyUsingMarijuana       &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1…\n$ PainMedicine                  &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0…\n$ EverUsedCocaine               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedInhalant              &lt;fct&gt; 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedHeroin                &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedMethamphetamine       &lt;fct&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ EverUsedEcstasy               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverInjectedIllegalDrug       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, N…\n$ EverHadSex                    &lt;fct&gt; 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, NA, …\n$ SexBefore13                   &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, NA, …\n$ Sex4OrMorePartners            &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, …\n$ SexuallyActive                &lt;fct&gt; 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, NA, …\n$ AlcoholOrDrugsSex             &lt;fct&gt; NA, NA, 0, 0, 0, NA, 0, NA, NA, 0, NA, N…\n$ UsedCondom                    &lt;fct&gt; NA, NA, 1, 0, 1, NA, 1, NA, NA, 1, NA, N…\n$ BirthControl                  &lt;fct&gt; NA, NA, 1, 1, 0, NA, 0, NA, NA, 1, NA, N…\n$ VeryOverweight                &lt;fct&gt; 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1…\n$ WeightLoss                    &lt;fct&gt; 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1…\n$ NoFruitJuice                  &lt;fct&gt; 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0…\n$ NoFruit                       &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0…\n$ NoSalad                       &lt;fct&gt; 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1…\n$ NoPotatoes                    &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0…\n$ NoCarrots                     &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0…\n$ NoOtherVeggies                &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0…\n$ NoSoda                        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0…\n$ NoBreakfast                   &lt;fct&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0…\n$ PhysicalActivity              &lt;fct&gt; 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0…\n$ AttendedPEClass               &lt;fct&gt; 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SportsTeam                    &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0…\n$ ConcussionSports              &lt;fct&gt; 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1…\n$ SocialMedia                   &lt;fct&gt; 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1…\n$ HIVTested                     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ STDTested                     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ DentistVisit                  &lt;fct&gt; 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0…\n$ NotGoodMentalHealth           &lt;fct&gt; 0, 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, 0, …\n$ EightOrMoreHoursSleep         &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ Homelessness                  &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ GradesSchool                  &lt;fct&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, …\n$ SexualAbuseByOlderPerson      &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ ParentalEmotionalAbuse        &lt;fct&gt; NA, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …\n$ ParentalPhysicalAbuse         &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ ParentalDomesticViolence      &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentMisusePainMedicine     &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverHallucinogenicDrugs       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ AskedForConsent               &lt;fct&gt; NA, NA, 1, 1, 0, 1, 1, NA, 0, 1, NA, NA,…\n$ NoSportsDrinks                &lt;fct&gt; 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0…\n$ NoDrinksWater                 &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ ExcerciseMuscles              &lt;fct&gt; 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0…\n$ Sunburn                       &lt;fct&gt; 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0…\n$ AdultMeetingBasicNeeds        &lt;fct&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0…\n$ ParentSubstanceUse            &lt;fct&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2…\n$ ParentMentalIllness           &lt;fct&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n$ ParentIncarceration           &lt;fct&gt; 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n$ SchoolConnectedness           &lt;fct&gt; 2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 1, 2, 1, 2…\n$ ParentalMonitoring            &lt;fct&gt; 2, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2…\n$ UnfairDisciplineAtSchool      &lt;fct&gt; 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2…\n$ DifficultyConcentrating       &lt;fct&gt; 2, 1, 2, 1, 2, 2, 2, 2, 1, 2, 2, 1, NA, …\n$ EnglishProficiency            &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1…\n$ SexSexualContact              &lt;chr&gt; \"Never had sex\", \"Never had sex\", \"Both\"…\n$ Transgender                   &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\"…\n\nskim(clean_yrbs_2023)\n\n\nData summary\n\n\nName\nclean_yrbs_2023\n\n\nNumber of rows\n20103\n\n\nNumber of columns\n110\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n6\n\n\nfactor\n98\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nSex\n158\n0.99\n4\n6\n0\n2\n0\n\n\nRace\n370\n0.98\n5\n25\n0\n8\n0\n\n\nGrade\n241\n0.99\n1\n2\n0\n4\n0\n\n\nSexOrientation\n2003\n0.90\n8\n33\n0\n6\n0\n\n\nSexSexualContact\n4722\n0.77\n4\n13\n0\n4\n0\n\n\nTransgender\n1802\n0.91\n2\n33\n0\n4\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nHispanicLatino\n254\n0.99\nFALSE\n2\n2: 15852, 1: 3997\n\n\nSeatBeltUse\n5032\n0.75\nFALSE\n2\n0: 8506, 1: 6565\n\n\nDrinkingDriver\n505\n0.97\nFALSE\n2\n0: 16674, 1: 2924\n\n\nDrivingDrinking\n11527\n0.43\nFALSE\n2\n0: 8095, 1: 481\n\n\nTextingDriving\n12034\n0.40\nFALSE\n2\n0: 4755, 1: 3314\n\n\nWeaponCarryingSchool\n508\n0.97\nFALSE\n2\n0: 18747, 1: 848\n\n\nGunCarrying\n8729\n0.57\nFALSE\n2\n0: 10861, 1: 513\n\n\nUnsafeAtSchool\n1121\n0.94\nFALSE\n2\n0: 16681, 1: 2301\n\n\nInjuredInSchool\n2129\n0.89\nFALSE\n2\n0: 16260, 1: 1714\n\n\nPhysicalFight\n8451\n0.58\nFALSE\n2\n0: 9309, 1: 2343\n\n\nSchoolPhysicalFight\n2643\n0.87\nFALSE\n2\n0: 16014, 1: 1446\n\n\nAttackedInNeighborhood\n5526\n0.73\nFALSE\n2\n0: 11082, 1: 3495\n\n\nForcedSexualIntercourse\n2801\n0.86\nFALSE\n2\n0: 15639, 1: 1663\n\n\nSexualViolence\n4351\n0.78\nFALSE\n2\n0: 13912, 1: 1840\n\n\nSexualAbuseByPartner\n6662\n0.67\nFALSE\n2\n0: 12550, 1: 891\n\n\nPhysicalDatingViolence\n8596\n0.57\nFALSE\n2\n0: 10299, 1: 1208\n\n\nTreatedUnfairlyRace\n1817\n0.91\nFALSE\n2\n0: 12530, 1: 5756\n\n\nBullying\n201\n0.99\nFALSE\n2\n0: 15856, 1: 4046\n\n\nCyberBullying\n205\n0.99\nFALSE\n2\n0: 16475, 1: 3423\n\n\nHopelessness\n240\n0.99\nFALSE\n2\n0: 11755, 1: 8108\n\n\nSuicideIdeation\n436\n0.98\nFALSE\n2\n0: 15453, 1: 4214\n\n\nSuicidePlan\n1737\n0.91\nFALSE\n2\n0: 15154, 1: 3212\n\n\nSuicideAttempts\n767\n0.96\nFALSE\n2\n0: 17341, 1: 1995\n\n\nSuicideInjuryMedicalAttention\n5468\n0.73\nFALSE\n2\n0: 14263, 1: 372\n\n\nEverTriedCigarette\n2661\n0.87\nFALSE\n2\n0: 14331, 1: 3111\n\n\nFirstCigaretteBefore13\n3283\n0.84\nFALSE\n2\n0: 15682, 1: 1138\n\n\nCurrentlySmokingCigarette\n364\n0.98\nFALSE\n2\n0: 18933, 1: 806\n\n\nMoreThan10CigarettesPerDay\n19580\n0.03\nFALSE\n2\n0: 473, 1: 50\n\n\nEverTriedVaping\n299\n0.99\nFALSE\n2\n0: 12835, 1: 6969\n\n\nCurrentlyVaping\n1012\n0.95\nFALSE\n2\n0: 15705, 1: 3386\n\n\nStoreSourceVaping\n17457\n0.13\nFALSE\n2\n0: 2492, 1: 154\n\n\nCurrentlySmokelessTobacco\n1180\n0.94\nFALSE\n2\n0: 18431, 1: 492\n\n\nCurrentlySmokingCigar\n1161\n0.94\nFALSE\n2\n0: 18074, 1: 868\n\n\nQuitTobacco\n15766\n0.22\nFALSE\n2\n1: 2326, 0: 2011\n\n\nFirstAlcoholBefore13\n855\n0.96\nFALSE\n2\n0: 16404, 1: 2844\n\n\nCurrentlyAlcohol\n901\n0.96\nFALSE\n2\n0: 15050, 1: 4152\n\n\nCurrentlyBingeDrinking\n4662\n0.77\nFALSE\n2\n0: 14010, 1: 1431\n\n\nMoreThan10Drinks\n5689\n0.72\nFALSE\n2\n0: 14054, 1: 360\n\n\nSomeoneSourceAlcohol\n17077\n0.15\nFALSE\n2\n0: 1845, 1: 1181\n\n\nEverUsedMarijuana\n3500\n0.83\nFALSE\n2\n0: 11383, 1: 5220\n\n\nFirstMarijuanaBefore13\n864\n0.96\nFALSE\n2\n0: 18067, 1: 1172\n\n\nCurrentlyUsingMarijuana\n503\n0.97\nFALSE\n2\n0: 16193, 1: 3407\n\n\nPainMedicine\n576\n0.97\nFALSE\n2\n0: 17165, 1: 2362\n\n\nEverUsedCocaine\n3256\n0.84\nFALSE\n2\n0: 16411, 1: 436\n\n\nEverUsedInhalant\n5877\n0.71\nFALSE\n2\n0: 13344, 1: 882\n\n\nEverUsedHeroin\n781\n0.96\nFALSE\n2\n0: 19016, 1: 306\n\n\nEverUsedMethamphetamine\n1122\n0.94\nFALSE\n2\n0: 18641, 1: 340\n\n\nEverUsedEcstasy\n3608\n0.82\nFALSE\n2\n0: 16016, 1: 479\n\n\nEverInjectedIllegalDrug\n5006\n0.75\nFALSE\n2\n0: 14905, 1: 192\n\n\nEverHadSex\n3982\n0.80\nFALSE\n2\n0: 10701, 1: 5420\n\n\nSexBefore13\n1530\n0.92\nFALSE\n2\n0: 17976, 1: 597\n\n\nSex4OrMorePartners\n2458\n0.88\nFALSE\n2\n0: 16527, 1: 1118\n\n\nSexuallyActive\n1764\n0.91\nFALSE\n2\n0: 14362, 1: 3977\n\n\nAlcoholOrDrugsSex\n16526\n0.18\nFALSE\n2\n0: 2918, 1: 659\n\n\nUsedCondom\n16194\n0.19\nFALSE\n2\n1: 2023, 0: 1886\n\n\nBirthControl\n16614\n0.17\nFALSE\n2\n0: 2794, 1: 695\n\n\nVeryOverweight\n8308\n0.59\nFALSE\n2\n0: 7900, 1: 3895\n\n\nWeightLoss\n6167\n0.69\nFALSE\n2\n0: 7529, 1: 6407\n\n\nNoFruitJuice\n3495\n0.83\nFALSE\n2\n0: 10723, 1: 5885\n\n\nNoFruit\n1076\n0.95\nFALSE\n2\n0: 16728, 1: 2299\n\n\nNoSalad\n4767\n0.76\nFALSE\n2\n0: 8497, 1: 6839\n\n\nNoPotatoes\n4858\n0.76\nFALSE\n2\n0: 9689, 1: 5556\n\n\nNoCarrots\n4827\n0.76\nFALSE\n2\n1: 8451, 0: 6825\n\n\nNoOtherVeggies\n4891\n0.76\nFALSE\n2\n0: 12186, 1: 3026\n\n\nNoSoda\n4920\n0.76\nFALSE\n2\n0: 10800, 1: 4383\n\n\nNoBreakfast\n5835\n0.71\nFALSE\n2\n0: 11427, 1: 2841\n\n\nPhysicalActivity\n1227\n0.94\nFALSE\n2\n0: 9814, 1: 9062\n\n\nAttendedPEClass\n6227\n0.69\nFALSE\n2\n0: 7283, 1: 6593\n\n\nSportsTeam\n7139\n0.64\nFALSE\n2\n1: 6697, 0: 6267\n\n\nConcussionSports\n4594\n0.77\nFALSE\n2\n0: 13209, 1: 2300\n\n\nSocialMedia\n4900\n0.76\nFALSE\n2\n1: 11872, 0: 3331\n\n\nHIVTested\n4584\n0.77\nFALSE\n2\n0: 14447, 1: 1072\n\n\nSTDTested\n7325\n0.64\nFALSE\n2\n0: 12048, 1: 730\n\n\nDentistVisit\n2179\n0.89\nFALSE\n2\n1: 13356, 0: 4568\n\n\nNotGoodMentalHealth\n4398\n0.78\nFALSE\n2\n0: 10897, 1: 4808\n\n\nEightOrMoreHoursSleep\n2662\n0.87\nFALSE\n2\n0: 13435, 1: 4006\n\n\nHomelessness\n5562\n0.72\nFALSE\n2\n0: 14043, 1: 498\n\n\nGradesSchool\n3568\n0.82\nFALSE\n2\n1: 11679, 0: 4856\n\n\nSexualAbuseByOlderPerson\n6280\n0.69\nFALSE\n2\n0: 12648, 1: 1175\n\n\nParentalEmotionalAbuse\n6183\n0.69\nFALSE\n2\n0: 12129, 1: 1791\n\n\nParentalPhysicalAbuse\n6186\n0.69\nFALSE\n2\n0: 13524, 1: 393\n\n\nParentalDomesticViolence\n6350\n0.68\nFALSE\n2\n0: 13396, 1: 357\n\n\nCurrentMisusePainMedicine\n7722\n0.62\nFALSE\n2\n0: 11731, 1: 650\n\n\nEverHallucinogenicDrugs\n8932\n0.56\nFALSE\n2\n0: 10441, 1: 730\n\n\nAskedForConsent\n14611\n0.27\nFALSE\n2\n1: 4417, 0: 1075\n\n\nNoSportsDrinks\n8194\n0.59\nFALSE\n2\n0: 6550, 1: 5359\n\n\nNoDrinksWater\n6519\n0.68\nFALSE\n2\n0: 13145, 1: 439\n\n\nExcerciseMuscles\n8906\n0.56\nFALSE\n2\n1: 5679, 0: 5518\n\n\nSunburn\n9315\n0.54\nFALSE\n2\n1: 5868, 0: 4920\n\n\nAdultMeetingBasicNeeds\n4353\n0.78\nFALSE\n2\n1: 13575, 0: 2175\n\n\nParentSubstanceUse\n6876\n0.66\nFALSE\n2\n2: 9398, 1: 3829\n\n\nParentMentalIllness\n6798\n0.66\nFALSE\n2\n2: 8999, 1: 4306\n\n\nParentIncarceration\n6761\n0.66\nFALSE\n2\n2: 10982, 1: 2360\n\n\nSchoolConnectedness\n8926\n0.56\nFALSE\n2\n1: 6016, 2: 5161\n\n\nParentalMonitoring\n9253\n0.54\nFALSE\n2\n1: 9038, 2: 1812\n\n\nUnfairDisciplineAtSchool\n9520\n0.53\nFALSE\n2\n2: 8412, 1: 2171\n\n\nDifficultyConcentrating\n9157\n0.54\nFALSE\n2\n2: 5685, 1: 5261\n\n\nEnglishProficiency\n9308\n0.54\nFALSE\n2\n1: 10550, 2: 245\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nweight\n0\n1.00\n1.00\n1.27\n0.00\n0.15\n0.41\n1.36\n22.54\n▇▁▁▁▁\n\n\nstratum\n0\n1.00\n228.37\n73.29\n101.00\n201.00\n212.00\n300.00\n300.00\n▃▁▆▁▇\n\n\npsu\n0\n1.00\n414571.69\n235438.55\n16294.00\n214944.00\n401089.00\n573255.00\n788430.00\n▆▃▇▇▆\n\n\nAge\n98\n1.00\n15.89\n1.22\n12.00\n15.00\n16.00\n17.00\n18.00\n▁▃▇▆▇\n\n\nHeight\n2289\n0.89\n1.70\n0.10\n1.32\n1.63\n1.70\n1.78\n2.03\n▁▅▇▆▁\n\n\nWeight\n2289\n0.89\n68.68\n18.47\n31.30\n55.79\n64.41\n77.11\n180.99\n▆▇▂▁▁\n\n\n\n\nsummary(clean_yrbs_2023)\n\n     weight           stratum           psu             Sex           \n Min.   : 0.0023   Min.   :101.0   Min.   : 16294   Length:20103      \n 1st Qu.: 0.1532   1st Qu.:201.0   1st Qu.:214944   Class :character  \n Median : 0.4143   Median :212.0   Median :401089   Mode  :character  \n Mean   : 1.0000   Mean   :228.4   Mean   :414572                     \n 3rd Qu.: 1.3594   3rd Qu.:300.0   3rd Qu.:573255                     \n Max.   :22.5437   Max.   :300.0   Max.   :788430                     \n                                                                      \n     Race                Age           Grade           SexOrientation    \n Length:20103       Min.   :12.00   Length:20103       Length:20103      \n Class :character   1st Qu.:15.00   Class :character   Class :character  \n Mode  :character   Median :16.00   Mode  :character   Mode  :character  \n                    Mean   :15.89                                        \n                    3rd Qu.:17.00                                        \n                    Max.   :18.00                                        \n                    NA's   :98                                           \n HispanicLatino     Height          Weight       SeatBeltUse DrinkingDriver\n 1   : 3997     Min.   :1.320   Min.   : 31.30   0   :8506   0   :16674    \n 2   :15852     1st Qu.:1.630   1st Qu.: 55.79   1   :6565   1   : 2924    \n NA's:  254     Median :1.700   Median : 64.41   NA's:5032   NA's:  505    \n                Mean   :1.696   Mean   : 68.68                             \n                3rd Qu.:1.780   3rd Qu.: 77.11                             \n                Max.   :2.030   Max.   :180.99                             \n                NA's   :2289    NA's   :2289                               \n DrivingDrinking TextingDriving WeaponCarryingSchool GunCarrying \n 0   : 8095      0   : 4755     0   :18747           0   :10861  \n 1   :  481      1   : 3314     1   :  848           1   :  513  \n NA's:11527      NA's:12034     NA's:  508           NA's: 8729  \n                                                                 \n                                                                 \n                                                                 \n                                                                 \n UnsafeAtSchool InjuredInSchool PhysicalFight SchoolPhysicalFight\n 0   :16681     0   :16260      0   :9309     0   :16014         \n 1   : 2301     1   : 1714      1   :2343     1   : 1446         \n NA's: 1121     NA's: 2129      NA's:8451     NA's: 2643         \n                                                                 \n                                                                 \n                                                                 \n                                                                 \n AttackedInNeighborhood ForcedSexualIntercourse SexualViolence\n 0   :11082             0   :15639              0   :13912    \n 1   : 3495             1   : 1663              1   : 1840    \n NA's: 5526             NA's: 2801              NA's: 4351    \n                                                              \n                                                              \n                                                              \n                                                              \n SexualAbuseByPartner PhysicalDatingViolence TreatedUnfairlyRace Bullying    \n 0   :12550           0   :10299             0   :12530          0   :15856  \n 1   :  891           1   : 1208             1   : 5756          1   : 4046  \n NA's: 6662           NA's: 8596             NA's: 1817          NA's:  201  \n                                                                             \n                                                                             \n                                                                             \n                                                                             \n CyberBullying Hopelessness SuicideIdeation SuicidePlan  SuicideAttempts\n 0   :16475    0   :11755   0   :15453      0   :15154   0   :17341     \n 1   : 3423    1   : 8108   1   : 4214      1   : 3212   1   : 1995     \n NA's:  205    NA's:  240   NA's:  436      NA's: 1737   NA's:  767     \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n SuicideInjuryMedicalAttention EverTriedCigarette FirstCigaretteBefore13\n 0   :14263                    0   :14331         0   :15682            \n 1   :  372                    1   : 3111         1   : 1138            \n NA's: 5468                    NA's: 2661         NA's: 3283            \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n CurrentlySmokingCigarette MoreThan10CigarettesPerDay EverTriedVaping\n 0   :18933                0   :  473                 0   :12835     \n 1   :  806                1   :   50                 1   : 6969     \n NA's:  364                NA's:19580                 NA's:  299     \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n CurrentlyVaping StoreSourceVaping CurrentlySmokelessTobacco\n 0   :15705      0   : 2492        0   :18431               \n 1   : 3386      1   :  154        1   :  492               \n NA's: 1012      NA's:17457        NA's: 1180               \n                                                            \n                                                            \n                                                            \n                                                            \n CurrentlySmokingCigar QuitTobacco  FirstAlcoholBefore13 CurrentlyAlcohol\n 0   :18074            0   : 2011   0   :16404           0   :15050      \n 1   :  868            1   : 2326   1   : 2844           1   : 4152      \n NA's: 1161            NA's:15766   NA's:  855           NA's:  901      \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n CurrentlyBingeDrinking MoreThan10Drinks SomeoneSourceAlcohol EverUsedMarijuana\n 0   :14010             0   :14054       0   : 1845           0   :11383       \n 1   : 1431             1   :  360       1   : 1181           1   : 5220       \n NA's: 4662             NA's: 5689       NA's:17077           NA's: 3500       \n                                                                               \n                                                                               \n                                                                               \n                                                                               \n FirstMarijuanaBefore13 CurrentlyUsingMarijuana PainMedicine EverUsedCocaine\n 0   :18067             0   :16193              0   :17165   0   :16411     \n 1   : 1172             1   : 3407              1   : 2362   1   :  436     \n NA's:  864             NA's:  503              NA's:  576   NA's: 3256     \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n EverUsedInhalant EverUsedHeroin EverUsedMethamphetamine EverUsedEcstasy\n 0   :13344       0   :19016     0   :18641              0   :16016     \n 1   :  882       1   :  306     1   :  340              1   :  479     \n NA's: 5877       NA's:  781     NA's: 1122              NA's: 3608     \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n EverInjectedIllegalDrug EverHadSex   SexBefore13  Sex4OrMorePartners\n 0   :14905              0   :10701   0   :17976   0   :16527        \n 1   :  192              1   : 5420   1   :  597   1   : 1118        \n NA's: 5006              NA's: 3982   NA's: 1530   NA's: 2458        \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n SexuallyActive AlcoholOrDrugsSex UsedCondom   BirthControl VeryOverweight\n 0   :14362     0   : 2918        0   : 1886   0   : 2794   0   :7900     \n 1   : 3977     1   :  659        1   : 2023   1   :  695   1   :3895     \n NA's: 1764     NA's:16526        NA's:16194   NA's:16614   NA's:8308     \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n WeightLoss  NoFruitJuice NoFruit      NoSalad     NoPotatoes  NoCarrots  \n 0   :7529   0   :10723   0   :16728   0   :8497   0   :9689   0   :6825  \n 1   :6407   1   : 5885   1   : 2299   1   :6839   1   :5556   1   :8451  \n NA's:6167   NA's: 3495   NA's: 1076   NA's:4767   NA's:4858   NA's:4827  \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n NoOtherVeggies  NoSoda      NoBreakfast  PhysicalActivity AttendedPEClass\n 0   :12186     0   :10800   0   :11427   0   :9814        0   :7283      \n 1   : 3026     1   : 4383   1   : 2841   1   :9062        1   :6593      \n NA's: 4891     NA's: 4920   NA's: 5835   NA's:1227        NA's:6227      \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n SportsTeam  ConcussionSports SocialMedia  HIVTested    STDTested   \n 0   :6267   0   :13209       0   : 3331   0   :14447   0   :12048  \n 1   :6697   1   : 2300       1   :11872   1   : 1072   1   :  730  \n NA's:7139   NA's: 4594       NA's: 4900   NA's: 4584   NA's: 7325  \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n DentistVisit NotGoodMentalHealth EightOrMoreHoursSleep Homelessness\n 0   : 4568   0   :10897          0   :13435            0   :14043  \n 1   :13356   1   : 4808          1   : 4006            1   :  498  \n NA's: 2179   NA's: 4398          NA's: 2662            NA's: 5562  \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n GradesSchool SexualAbuseByOlderPerson ParentalEmotionalAbuse\n 0   : 4856   0   :12648               0   :12129            \n 1   :11679   1   : 1175               1   : 1791            \n NA's: 3568   NA's: 6280               NA's: 6183            \n                                                             \n                                                             \n                                                             \n                                                             \n ParentalPhysicalAbuse ParentalDomesticViolence CurrentMisusePainMedicine\n 0   :13524            0   :13396               0   :11731               \n 1   :  393            1   :  357               1   :  650               \n NA's: 6186            NA's: 6350               NA's: 7722               \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n EverHallucinogenicDrugs AskedForConsent NoSportsDrinks NoDrinksWater\n 0   :10441              0   : 1075      0   :6550      0   :13145   \n 1   :  730              1   : 4417      1   :5359      1   :  439   \n NA's: 8932              NA's:14611      NA's:8194      NA's: 6519   \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n ExcerciseMuscles Sunburn     AdultMeetingBasicNeeds ParentSubstanceUse\n 0   :5518        0   :4920   0   : 2175             1   :3829         \n 1   :5679        1   :5868   1   :13575             2   :9398         \n NA's:8906        NA's:9315   NA's: 4353             NA's:6876         \n                                                                       \n                                                                       \n                                                                       \n                                                                       \n ParentMentalIllness ParentIncarceration SchoolConnectedness ParentalMonitoring\n 1   :4306           1   : 2360          1   :6016           1   :9038         \n 2   :8999           2   :10982          2   :5161           2   :1812         \n NA's:6798           NA's: 6761          NA's:8926           NA's:9253         \n                                                                               \n                                                                               \n                                                                               \n                                                                               \n UnfairDisciplineAtSchool DifficultyConcentrating EnglishProficiency\n 1   :2171                1   :5261               1   :10550        \n 2   :8412                2   :5685               2   :  245        \n NA's:9520                NA's:9157               NA's: 9308        \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n SexSexualContact   Transgender       \n Length:20103       Length:20103      \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n                                      \n\nstr(clean_yrbs_2023)\n\ntibble [20,103 × 110] (S3: tbl_df/tbl/data.frame)\n $ weight                       : num [1:20103] 0.861 0.892 0.508 1.176 0.892 ...\n $ stratum                      : num [1:20103] 103 103 103 103 103 103 103 103 103 103 ...\n $ psu                          : num [1:20103] 16294 16294 16294 16294 16294 ...\n $ Sex                          : chr [1:20103] \"Female\" \"Male\" \"Male\" \"Female\" ...\n $ Race                         : chr [1:20103] NA \"White\" \"White\" \"White\" ...\n $ Age                          : int [1:20103] 14 15 16 17 14 16 17 15 15 17 ...\n $ Grade                        : chr [1:20103] \"9\" \"9\" \"11\" \"10\" ...\n $ SexOrientation               : chr [1:20103] \"Gay or Lesbian\" \"Heterosexual\" \"Bisexual\" \"Heterosexual\" ...\n $ HispanicLatino               : Factor w/ 2 levels \"1\",\"2\": NA 2 2 2 2 2 2 2 2 2 ...\n $ Height                       : num [1:20103] 1.65 NA 1.68 NA 1.85 1.8 1.83 1.52 1.65 1.63 ...\n $ Weight                       : num [1:20103] 81.7 NA 74.8 NA 56.7 ...\n $ SeatBeltUse                  : Factor w/ 2 levels \"0\",\"1\": 2 1 1 2 1 2 1 2 1 2 ...\n $ DrinkingDriver               : Factor w/ 2 levels \"0\",\"1\": 2 1 2 1 1 1 1 1 1 1 ...\n $ DrivingDrinking              : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 NA NA NA NA NA 1 ...\n $ TextingDriving               : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 NA NA NA NA NA NA ...\n $ WeaponCarryingSchool         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ GunCarrying                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 2 1 1 1 ...\n $ UnsafeAtSchool               : Factor w/ 2 levels \"0\",\"1\": 2 1 1 2 1 2 1 1 1 1 ...\n $ InjuredInSchool              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ PhysicalFight                : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 2 1 1 1 2 1 ...\n $ SchoolPhysicalFight          : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 2 1 ...\n $ AttackedInNeighborhood       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ ForcedSexualIntercourse      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ SexualViolence               : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SexualAbuseByPartner         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ PhysicalDatingViolence       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 NA 1 1 1 1 1 ...\n $ TreatedUnfairlyRace          : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 2 1 1 1 2 ...\n $ Bullying                     : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 1 1 ...\n $ CyberBullying                : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ Hopelessness                 : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 1 2 1 2 2 ...\n $ SuicideIdeation              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 2 NA ...\n $ SuicidePlan                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 1 1 1 1 2 ...\n $ SuicideAttempts              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 2 1 ...\n $ SuicideInjuryMedicalAttention: Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverTriedCigarette           : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 2 1 2 1 1 1 ...\n $ FirstCigaretteBefore13       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentlySmokingCigarette    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ MoreThan10CigarettesPerDay   : Factor w/ 2 levels \"0\",\"1\": NA NA NA NA NA NA NA NA NA NA ...\n $ EverTriedVaping              : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 2 2 1 2 1 ...\n $ CurrentlyVaping              : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 1 1 2 1 1 1 ...\n $ StoreSourceVaping            : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 NA NA 1 NA NA NA ...\n $ CurrentlySmokelessTobacco    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 1 1 1 1 1 ...\n $ CurrentlySmokingCigar        : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ QuitTobacco                  : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 1 NA 1 NA NA NA ...\n $ FirstAlcoholBefore13         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ CurrentlyAlcohol             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 2 1 2 1 1 1 ...\n $ CurrentlyBingeDrinking       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 2 1 1 1 ...\n $ MoreThan10Drinks             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SomeoneSourceAlcohol         : Factor w/ 2 levels \"0\",\"1\": NA NA NA 1 1 NA 1 NA NA NA ...\n $ EverUsedMarijuana            : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 2 1 1 1 ...\n $ FirstMarijuanaBefore13       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentlyUsingMarijuana      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ PainMedicine                 : Factor w/ 2 levels \"0\",\"1\": 2 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedCocaine              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedInhalant             : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 1 1 1 1 1 1 ...\n $ EverUsedHeroin               : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedMethamphetamine      : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedEcstasy              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverInjectedIllegalDrug      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverHadSex                   : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 2 2 1 2 2 ...\n $ SexBefore13                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ Sex4OrMorePartners           : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SexuallyActive               : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 1 2 1 1 2 ...\n $ AlcoholOrDrugsSex            : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 1 NA 1 NA NA 1 ...\n $ UsedCondom                   : Factor w/ 2 levels \"0\",\"1\": NA NA 2 1 2 NA 2 NA NA 2 ...\n $ BirthControl                 : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 1 NA 1 NA NA 2 ...\n $ VeryOverweight               : Factor w/ 2 levels \"0\",\"1\": 1 2 2 1 1 1 1 2 1 1 ...\n $ WeightLoss                   : Factor w/ 2 levels \"0\",\"1\": 2 2 2 1 1 1 1 2 1 1 ...\n $ NoFruitJuice                 : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 2 2 1 1 ...\n $ NoFruit                      : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 2 1 1 ...\n $ NoSalad                      : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 1 2 2 2 2 1 ...\n $ NoPotatoes                   : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 2 1 1 ...\n $ NoCarrots                    : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 2 2 2 2 2 1 ...\n $ NoOtherVeggies               : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 1 2 1 ...\n $ NoSoda                       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ NoBreakfast                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 2 1 1 1 ...\n $ PhysicalActivity             : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 2 2 2 1 1 1 ...\n $ AttendedPEClass              : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 1 2 1 1 1 1 ...\n $ SportsTeam                   : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 2 2 1 ...\n $ ConcussionSports             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 2 2 1 1 2 ...\n $ SocialMedia                  : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 2 2 2 2 2 ...\n $ HIVTested                    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ STDTested                    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ DentistVisit                 : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 2 2 1 1 1 ...\n $ NotGoodMentalHealth          : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 NA 1 1 1 1 ...\n $ EightOrMoreHoursSleep        : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 1 1 ...\n $ Homelessness                 : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ GradesSchool                 : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 1 1 1 1 ...\n $ SexualAbuseByOlderPerson     : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ ParentalEmotionalAbuse       : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 2 1 1 1 ...\n $ ParentalPhysicalAbuse        : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ ParentalDomesticViolence     : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentMisusePainMedicine    : Factor w/ 2 levels \"0\",\"1\": 2 1 1 1 1 1 1 1 1 1 ...\n $ EverHallucinogenicDrugs      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ AskedForConsent              : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 1 2 2 NA 1 2 ...\n $ NoSportsDrinks               : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 1 1 2 2 1 1 ...\n $ NoDrinksWater                : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ ExcerciseMuscles             : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 2 2 1 1 1 1 ...\n $ Sunburn                      : Factor w/ 2 levels \"0\",\"1\": 2 2 1 1 2 1 2 2 2 1 ...\n  [list output truncated]\n\n\n\n\n\n\n# This is an example of how to create a dataset for a model.\n# You can use this as a template to create your own dataset.\n\n\nanalysis_data &lt;- clean_yrbs_2023 %&gt;%\n    select(\n        WeaponCarryingSchool, AttackedInNeighborhood, Bullying,\n        SexualAbuseByOlderPerson, ParentalPhysicalAbuse, ParentSubstanceUse,\n        ParentIncarceration, SchoolConnectedness, ParentalMonitoring,\n        UnfairDisciplineAtSchool, Homelessness\n    ) |&gt;\n    filter(!is.na(WeaponCarryingSchool)) %&gt;%\n    mutate(across(\n        c(\n            ParentSubstanceUse, ParentIncarceration, SchoolConnectedness,\n            ParentalMonitoring, UnfairDisciplineAtSchool\n        ),\n        ~ as.numeric(.x) - 1\n    )) %&gt;%\n    mutate(across(\n        c(\n            ParentSubstanceUse, ParentIncarceration, SchoolConnectedness,\n            ParentalMonitoring, UnfairDisciplineAtSchool\n        ),\n        ~ factor(.x)\n    ))\n\n\n\n\n\nset.seed(1990)\n\nanalysis_split &lt;- initial_split(analysis_data,\n    strata = WeaponCarryingSchool\n)\n\nanalysis_train &lt;- training(analysis_split)\nanalysis_test &lt;- testing(analysis_split)\n\nanalysis_split\n\n\n\n\n\nanalysis_folds &lt;- vfold_cv(analysis_train,\n    v = 5\n)\nanalysis_folds"
  },
  {
    "objectID": "models/datasets.html#youth-risk-behavior-survey-2023",
    "href": "models/datasets.html#youth-risk-behavior-survey-2023",
    "title": "Data and Research Question",
    "section": "",
    "text": "The Youth Risk Behavior Survey (YRBS) is a national survey that monitors health-related behaviors among high school students, including weapon carrying and associated risk factors.\n\n\n\nSource: Centers for Disease Control and Prevention (CDC)\nYear: 2023\nTarget Population: High school students\nSample Size: Approximately 19,000 students nationwide\n\n\n\n\nHow do logistic regression, lasso, and tree-based models compare in predicting school-based weapon carrying among adolescents based on risk and protective factors?\n\n\n\nThe dataset includes information on various health-related behaviors:\n\nOutcome\n\nWeapon Carrying (Carried a weapon on school property)\n\nPredictors\n\nTraumatic experiences\nSchool Safety Perceptions\nBullying Experiences\nFamily Support\nSocial Media Use\nPeer Relationships\n\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(dissertationData)\nlibrary(here)\nlibrary(skimr)\ndata(clean_yrbs_2023)\n\n\n\n\n\nglimpse(clean_yrbs_2023)\n\nRows: 20,103\nColumns: 110\n$ weight                        &lt;dbl&gt; 0.8614, 0.8920, 0.5081, 1.1759, 0.8920, …\n$ stratum                       &lt;dbl&gt; 103, 103, 103, 103, 103, 103, 103, 103, …\n$ psu                           &lt;dbl&gt; 16294, 16294, 16294, 16294, 16294, 16294…\n$ Sex                           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Female\", \"Mal…\n$ Race                          &lt;chr&gt; NA, \"White\", \"White\", \"White\", \"White\", …\n$ Age                           &lt;int&gt; 14, 15, 16, 17, 14, 16, 17, 15, 15, 17, …\n$ Grade                         &lt;chr&gt; \"9\", \"9\", \"11\", \"10\", \"9\", \"9\", \"11\", \"9…\n$ SexOrientation                &lt;chr&gt; \"Gay or Lesbian\", \"Heterosexual\", \"Bisex…\n$ HispanicLatino                &lt;fct&gt; NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, …\n$ Height                        &lt;dbl&gt; 1.65, NA, 1.68, NA, 1.85, 1.80, 1.83, 1.…\n$ Weight                        &lt;dbl&gt; 81.65, NA, 74.84, NA, 56.70, 72.58, 74.8…\n$ SeatBeltUse                   &lt;fct&gt; 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1…\n$ DrinkingDriver                &lt;fct&gt; 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0…\n$ DrivingDrinking               &lt;fct&gt; NA, NA, 0, 0, NA, NA, NA, NA, NA, 0, NA,…\n$ TextingDriving                &lt;fct&gt; NA, NA, 1, 1, NA, NA, NA, NA, NA, NA, NA…\n$ WeaponCarryingSchool          &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ GunCarrying                   &lt;fct&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ UnsafeAtSchool                &lt;fct&gt; 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0…\n$ InjuredInSchool               &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ PhysicalFight                 &lt;fct&gt; 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ SchoolPhysicalFight           &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ AttackedInNeighborhood        &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0…\n$ ForcedSexualIntercourse       &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ SexualViolence                &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SexualAbuseByPartner          &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ PhysicalDatingViolence        &lt;fct&gt; 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, NA, 0, 0,…\n$ TreatedUnfairlyRace           &lt;fct&gt; 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0…\n$ Bullying                      &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CyberBullying                 &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ Hopelessness                  &lt;fct&gt; 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0…\n$ SuicideIdeation               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, NA, 0, 1, 0, …\n$ SuicidePlan                   &lt;fct&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0…\n$ SuicideAttempts               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0…\n$ SuicideInjuryMedicalAttention &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverTriedCigarette            &lt;fct&gt; 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, NA, …\n$ FirstCigaretteBefore13        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, …\n$ CurrentlySmokingCigarette     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ MoreThan10CigarettesPerDay    &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ EverTriedVaping               &lt;fct&gt; 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0…\n$ CurrentlyVaping               &lt;fct&gt; 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ StoreSourceVaping             &lt;fct&gt; NA, NA, 0, 0, NA, NA, 0, NA, NA, NA, NA,…\n$ CurrentlySmokelessTobacco     &lt;fct&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlySmokingCigar         &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ QuitTobacco                   &lt;fct&gt; NA, NA, 0, 0, 0, NA, 0, NA, NA, NA, NA, …\n$ FirstAlcoholBefore13          &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0…\n$ CurrentlyAlcohol              &lt;fct&gt; 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlyBingeDrinking        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0…\n$ MoreThan10Drinks              &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SomeoneSourceAlcohol          &lt;fct&gt; NA, NA, NA, 0, 0, NA, 0, NA, NA, NA, NA,…\n$ EverUsedMarijuana             &lt;fct&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1…\n$ FirstMarijuanaBefore13        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentlyUsingMarijuana       &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1…\n$ PainMedicine                  &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0…\n$ EverUsedCocaine               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedInhalant              &lt;fct&gt; 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedHeroin                &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverUsedMethamphetamine       &lt;fct&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ EverUsedEcstasy               &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverInjectedIllegalDrug       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, N…\n$ EverHadSex                    &lt;fct&gt; 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, NA, …\n$ SexBefore13                   &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, NA, …\n$ Sex4OrMorePartners            &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, …\n$ SexuallyActive                &lt;fct&gt; 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, NA, …\n$ AlcoholOrDrugsSex             &lt;fct&gt; NA, NA, 0, 0, 0, NA, 0, NA, NA, 0, NA, N…\n$ UsedCondom                    &lt;fct&gt; NA, NA, 1, 0, 1, NA, 1, NA, NA, 1, NA, N…\n$ BirthControl                  &lt;fct&gt; NA, NA, 1, 1, 0, NA, 0, NA, NA, 1, NA, N…\n$ VeryOverweight                &lt;fct&gt; 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1…\n$ WeightLoss                    &lt;fct&gt; 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1…\n$ NoFruitJuice                  &lt;fct&gt; 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0…\n$ NoFruit                       &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0…\n$ NoSalad                       &lt;fct&gt; 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1…\n$ NoPotatoes                    &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0…\n$ NoCarrots                     &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0…\n$ NoOtherVeggies                &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0…\n$ NoSoda                        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0…\n$ NoBreakfast                   &lt;fct&gt; 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0…\n$ PhysicalActivity              &lt;fct&gt; 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0…\n$ AttendedPEClass               &lt;fct&gt; 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ SportsTeam                    &lt;fct&gt; 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0…\n$ ConcussionSports              &lt;fct&gt; 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1…\n$ SocialMedia                   &lt;fct&gt; 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1…\n$ HIVTested                     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ STDTested                     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ DentistVisit                  &lt;fct&gt; 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0…\n$ NotGoodMentalHealth           &lt;fct&gt; 0, 0, 0, 0, 0, NA, 0, 0, 0, 0, 0, 0, 0, …\n$ EightOrMoreHoursSleep         &lt;fct&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ Homelessness                  &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ GradesSchool                  &lt;fct&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, …\n$ SexualAbuseByOlderPerson      &lt;fct&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0…\n$ ParentalEmotionalAbuse        &lt;fct&gt; NA, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …\n$ ParentalPhysicalAbuse         &lt;fct&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0…\n$ ParentalDomesticViolence      &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ CurrentMisusePainMedicine     &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ EverHallucinogenicDrugs       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ AskedForConsent               &lt;fct&gt; NA, NA, 1, 1, 0, 1, 1, NA, 0, 1, NA, NA,…\n$ NoSportsDrinks                &lt;fct&gt; 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0…\n$ NoDrinksWater                 &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ ExcerciseMuscles              &lt;fct&gt; 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0…\n$ Sunburn                       &lt;fct&gt; 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0…\n$ AdultMeetingBasicNeeds        &lt;fct&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0…\n$ ParentSubstanceUse            &lt;fct&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2…\n$ ParentMentalIllness           &lt;fct&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n$ ParentIncarceration           &lt;fct&gt; 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n$ SchoolConnectedness           &lt;fct&gt; 2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 1, 2, 1, 2…\n$ ParentalMonitoring            &lt;fct&gt; 2, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2…\n$ UnfairDisciplineAtSchool      &lt;fct&gt; 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2…\n$ DifficultyConcentrating       &lt;fct&gt; 2, 1, 2, 1, 2, 2, 2, 2, 1, 2, 2, 1, NA, …\n$ EnglishProficiency            &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1…\n$ SexSexualContact              &lt;chr&gt; \"Never had sex\", \"Never had sex\", \"Both\"…\n$ Transgender                   &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\"…\n\nskim(clean_yrbs_2023)\n\n\nData summary\n\n\nName\nclean_yrbs_2023\n\n\nNumber of rows\n20103\n\n\nNumber of columns\n110\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n6\n\n\nfactor\n98\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nSex\n158\n0.99\n4\n6\n0\n2\n0\n\n\nRace\n370\n0.98\n5\n25\n0\n8\n0\n\n\nGrade\n241\n0.99\n1\n2\n0\n4\n0\n\n\nSexOrientation\n2003\n0.90\n8\n33\n0\n6\n0\n\n\nSexSexualContact\n4722\n0.77\n4\n13\n0\n4\n0\n\n\nTransgender\n1802\n0.91\n2\n33\n0\n4\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nHispanicLatino\n254\n0.99\nFALSE\n2\n2: 15852, 1: 3997\n\n\nSeatBeltUse\n5032\n0.75\nFALSE\n2\n0: 8506, 1: 6565\n\n\nDrinkingDriver\n505\n0.97\nFALSE\n2\n0: 16674, 1: 2924\n\n\nDrivingDrinking\n11527\n0.43\nFALSE\n2\n0: 8095, 1: 481\n\n\nTextingDriving\n12034\n0.40\nFALSE\n2\n0: 4755, 1: 3314\n\n\nWeaponCarryingSchool\n508\n0.97\nFALSE\n2\n0: 18747, 1: 848\n\n\nGunCarrying\n8729\n0.57\nFALSE\n2\n0: 10861, 1: 513\n\n\nUnsafeAtSchool\n1121\n0.94\nFALSE\n2\n0: 16681, 1: 2301\n\n\nInjuredInSchool\n2129\n0.89\nFALSE\n2\n0: 16260, 1: 1714\n\n\nPhysicalFight\n8451\n0.58\nFALSE\n2\n0: 9309, 1: 2343\n\n\nSchoolPhysicalFight\n2643\n0.87\nFALSE\n2\n0: 16014, 1: 1446\n\n\nAttackedInNeighborhood\n5526\n0.73\nFALSE\n2\n0: 11082, 1: 3495\n\n\nForcedSexualIntercourse\n2801\n0.86\nFALSE\n2\n0: 15639, 1: 1663\n\n\nSexualViolence\n4351\n0.78\nFALSE\n2\n0: 13912, 1: 1840\n\n\nSexualAbuseByPartner\n6662\n0.67\nFALSE\n2\n0: 12550, 1: 891\n\n\nPhysicalDatingViolence\n8596\n0.57\nFALSE\n2\n0: 10299, 1: 1208\n\n\nTreatedUnfairlyRace\n1817\n0.91\nFALSE\n2\n0: 12530, 1: 5756\n\n\nBullying\n201\n0.99\nFALSE\n2\n0: 15856, 1: 4046\n\n\nCyberBullying\n205\n0.99\nFALSE\n2\n0: 16475, 1: 3423\n\n\nHopelessness\n240\n0.99\nFALSE\n2\n0: 11755, 1: 8108\n\n\nSuicideIdeation\n436\n0.98\nFALSE\n2\n0: 15453, 1: 4214\n\n\nSuicidePlan\n1737\n0.91\nFALSE\n2\n0: 15154, 1: 3212\n\n\nSuicideAttempts\n767\n0.96\nFALSE\n2\n0: 17341, 1: 1995\n\n\nSuicideInjuryMedicalAttention\n5468\n0.73\nFALSE\n2\n0: 14263, 1: 372\n\n\nEverTriedCigarette\n2661\n0.87\nFALSE\n2\n0: 14331, 1: 3111\n\n\nFirstCigaretteBefore13\n3283\n0.84\nFALSE\n2\n0: 15682, 1: 1138\n\n\nCurrentlySmokingCigarette\n364\n0.98\nFALSE\n2\n0: 18933, 1: 806\n\n\nMoreThan10CigarettesPerDay\n19580\n0.03\nFALSE\n2\n0: 473, 1: 50\n\n\nEverTriedVaping\n299\n0.99\nFALSE\n2\n0: 12835, 1: 6969\n\n\nCurrentlyVaping\n1012\n0.95\nFALSE\n2\n0: 15705, 1: 3386\n\n\nStoreSourceVaping\n17457\n0.13\nFALSE\n2\n0: 2492, 1: 154\n\n\nCurrentlySmokelessTobacco\n1180\n0.94\nFALSE\n2\n0: 18431, 1: 492\n\n\nCurrentlySmokingCigar\n1161\n0.94\nFALSE\n2\n0: 18074, 1: 868\n\n\nQuitTobacco\n15766\n0.22\nFALSE\n2\n1: 2326, 0: 2011\n\n\nFirstAlcoholBefore13\n855\n0.96\nFALSE\n2\n0: 16404, 1: 2844\n\n\nCurrentlyAlcohol\n901\n0.96\nFALSE\n2\n0: 15050, 1: 4152\n\n\nCurrentlyBingeDrinking\n4662\n0.77\nFALSE\n2\n0: 14010, 1: 1431\n\n\nMoreThan10Drinks\n5689\n0.72\nFALSE\n2\n0: 14054, 1: 360\n\n\nSomeoneSourceAlcohol\n17077\n0.15\nFALSE\n2\n0: 1845, 1: 1181\n\n\nEverUsedMarijuana\n3500\n0.83\nFALSE\n2\n0: 11383, 1: 5220\n\n\nFirstMarijuanaBefore13\n864\n0.96\nFALSE\n2\n0: 18067, 1: 1172\n\n\nCurrentlyUsingMarijuana\n503\n0.97\nFALSE\n2\n0: 16193, 1: 3407\n\n\nPainMedicine\n576\n0.97\nFALSE\n2\n0: 17165, 1: 2362\n\n\nEverUsedCocaine\n3256\n0.84\nFALSE\n2\n0: 16411, 1: 436\n\n\nEverUsedInhalant\n5877\n0.71\nFALSE\n2\n0: 13344, 1: 882\n\n\nEverUsedHeroin\n781\n0.96\nFALSE\n2\n0: 19016, 1: 306\n\n\nEverUsedMethamphetamine\n1122\n0.94\nFALSE\n2\n0: 18641, 1: 340\n\n\nEverUsedEcstasy\n3608\n0.82\nFALSE\n2\n0: 16016, 1: 479\n\n\nEverInjectedIllegalDrug\n5006\n0.75\nFALSE\n2\n0: 14905, 1: 192\n\n\nEverHadSex\n3982\n0.80\nFALSE\n2\n0: 10701, 1: 5420\n\n\nSexBefore13\n1530\n0.92\nFALSE\n2\n0: 17976, 1: 597\n\n\nSex4OrMorePartners\n2458\n0.88\nFALSE\n2\n0: 16527, 1: 1118\n\n\nSexuallyActive\n1764\n0.91\nFALSE\n2\n0: 14362, 1: 3977\n\n\nAlcoholOrDrugsSex\n16526\n0.18\nFALSE\n2\n0: 2918, 1: 659\n\n\nUsedCondom\n16194\n0.19\nFALSE\n2\n1: 2023, 0: 1886\n\n\nBirthControl\n16614\n0.17\nFALSE\n2\n0: 2794, 1: 695\n\n\nVeryOverweight\n8308\n0.59\nFALSE\n2\n0: 7900, 1: 3895\n\n\nWeightLoss\n6167\n0.69\nFALSE\n2\n0: 7529, 1: 6407\n\n\nNoFruitJuice\n3495\n0.83\nFALSE\n2\n0: 10723, 1: 5885\n\n\nNoFruit\n1076\n0.95\nFALSE\n2\n0: 16728, 1: 2299\n\n\nNoSalad\n4767\n0.76\nFALSE\n2\n0: 8497, 1: 6839\n\n\nNoPotatoes\n4858\n0.76\nFALSE\n2\n0: 9689, 1: 5556\n\n\nNoCarrots\n4827\n0.76\nFALSE\n2\n1: 8451, 0: 6825\n\n\nNoOtherVeggies\n4891\n0.76\nFALSE\n2\n0: 12186, 1: 3026\n\n\nNoSoda\n4920\n0.76\nFALSE\n2\n0: 10800, 1: 4383\n\n\nNoBreakfast\n5835\n0.71\nFALSE\n2\n0: 11427, 1: 2841\n\n\nPhysicalActivity\n1227\n0.94\nFALSE\n2\n0: 9814, 1: 9062\n\n\nAttendedPEClass\n6227\n0.69\nFALSE\n2\n0: 7283, 1: 6593\n\n\nSportsTeam\n7139\n0.64\nFALSE\n2\n1: 6697, 0: 6267\n\n\nConcussionSports\n4594\n0.77\nFALSE\n2\n0: 13209, 1: 2300\n\n\nSocialMedia\n4900\n0.76\nFALSE\n2\n1: 11872, 0: 3331\n\n\nHIVTested\n4584\n0.77\nFALSE\n2\n0: 14447, 1: 1072\n\n\nSTDTested\n7325\n0.64\nFALSE\n2\n0: 12048, 1: 730\n\n\nDentistVisit\n2179\n0.89\nFALSE\n2\n1: 13356, 0: 4568\n\n\nNotGoodMentalHealth\n4398\n0.78\nFALSE\n2\n0: 10897, 1: 4808\n\n\nEightOrMoreHoursSleep\n2662\n0.87\nFALSE\n2\n0: 13435, 1: 4006\n\n\nHomelessness\n5562\n0.72\nFALSE\n2\n0: 14043, 1: 498\n\n\nGradesSchool\n3568\n0.82\nFALSE\n2\n1: 11679, 0: 4856\n\n\nSexualAbuseByOlderPerson\n6280\n0.69\nFALSE\n2\n0: 12648, 1: 1175\n\n\nParentalEmotionalAbuse\n6183\n0.69\nFALSE\n2\n0: 12129, 1: 1791\n\n\nParentalPhysicalAbuse\n6186\n0.69\nFALSE\n2\n0: 13524, 1: 393\n\n\nParentalDomesticViolence\n6350\n0.68\nFALSE\n2\n0: 13396, 1: 357\n\n\nCurrentMisusePainMedicine\n7722\n0.62\nFALSE\n2\n0: 11731, 1: 650\n\n\nEverHallucinogenicDrugs\n8932\n0.56\nFALSE\n2\n0: 10441, 1: 730\n\n\nAskedForConsent\n14611\n0.27\nFALSE\n2\n1: 4417, 0: 1075\n\n\nNoSportsDrinks\n8194\n0.59\nFALSE\n2\n0: 6550, 1: 5359\n\n\nNoDrinksWater\n6519\n0.68\nFALSE\n2\n0: 13145, 1: 439\n\n\nExcerciseMuscles\n8906\n0.56\nFALSE\n2\n1: 5679, 0: 5518\n\n\nSunburn\n9315\n0.54\nFALSE\n2\n1: 5868, 0: 4920\n\n\nAdultMeetingBasicNeeds\n4353\n0.78\nFALSE\n2\n1: 13575, 0: 2175\n\n\nParentSubstanceUse\n6876\n0.66\nFALSE\n2\n2: 9398, 1: 3829\n\n\nParentMentalIllness\n6798\n0.66\nFALSE\n2\n2: 8999, 1: 4306\n\n\nParentIncarceration\n6761\n0.66\nFALSE\n2\n2: 10982, 1: 2360\n\n\nSchoolConnectedness\n8926\n0.56\nFALSE\n2\n1: 6016, 2: 5161\n\n\nParentalMonitoring\n9253\n0.54\nFALSE\n2\n1: 9038, 2: 1812\n\n\nUnfairDisciplineAtSchool\n9520\n0.53\nFALSE\n2\n2: 8412, 1: 2171\n\n\nDifficultyConcentrating\n9157\n0.54\nFALSE\n2\n2: 5685, 1: 5261\n\n\nEnglishProficiency\n9308\n0.54\nFALSE\n2\n1: 10550, 2: 245\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nweight\n0\n1.00\n1.00\n1.27\n0.00\n0.15\n0.41\n1.36\n22.54\n▇▁▁▁▁\n\n\nstratum\n0\n1.00\n228.37\n73.29\n101.00\n201.00\n212.00\n300.00\n300.00\n▃▁▆▁▇\n\n\npsu\n0\n1.00\n414571.69\n235438.55\n16294.00\n214944.00\n401089.00\n573255.00\n788430.00\n▆▃▇▇▆\n\n\nAge\n98\n1.00\n15.89\n1.22\n12.00\n15.00\n16.00\n17.00\n18.00\n▁▃▇▆▇\n\n\nHeight\n2289\n0.89\n1.70\n0.10\n1.32\n1.63\n1.70\n1.78\n2.03\n▁▅▇▆▁\n\n\nWeight\n2289\n0.89\n68.68\n18.47\n31.30\n55.79\n64.41\n77.11\n180.99\n▆▇▂▁▁\n\n\n\n\nsummary(clean_yrbs_2023)\n\n     weight           stratum           psu             Sex           \n Min.   : 0.0023   Min.   :101.0   Min.   : 16294   Length:20103      \n 1st Qu.: 0.1532   1st Qu.:201.0   1st Qu.:214944   Class :character  \n Median : 0.4143   Median :212.0   Median :401089   Mode  :character  \n Mean   : 1.0000   Mean   :228.4   Mean   :414572                     \n 3rd Qu.: 1.3594   3rd Qu.:300.0   3rd Qu.:573255                     \n Max.   :22.5437   Max.   :300.0   Max.   :788430                     \n                                                                      \n     Race                Age           Grade           SexOrientation    \n Length:20103       Min.   :12.00   Length:20103       Length:20103      \n Class :character   1st Qu.:15.00   Class :character   Class :character  \n Mode  :character   Median :16.00   Mode  :character   Mode  :character  \n                    Mean   :15.89                                        \n                    3rd Qu.:17.00                                        \n                    Max.   :18.00                                        \n                    NA's   :98                                           \n HispanicLatino     Height          Weight       SeatBeltUse DrinkingDriver\n 1   : 3997     Min.   :1.320   Min.   : 31.30   0   :8506   0   :16674    \n 2   :15852     1st Qu.:1.630   1st Qu.: 55.79   1   :6565   1   : 2924    \n NA's:  254     Median :1.700   Median : 64.41   NA's:5032   NA's:  505    \n                Mean   :1.696   Mean   : 68.68                             \n                3rd Qu.:1.780   3rd Qu.: 77.11                             \n                Max.   :2.030   Max.   :180.99                             \n                NA's   :2289    NA's   :2289                               \n DrivingDrinking TextingDriving WeaponCarryingSchool GunCarrying \n 0   : 8095      0   : 4755     0   :18747           0   :10861  \n 1   :  481      1   : 3314     1   :  848           1   :  513  \n NA's:11527      NA's:12034     NA's:  508           NA's: 8729  \n                                                                 \n                                                                 \n                                                                 \n                                                                 \n UnsafeAtSchool InjuredInSchool PhysicalFight SchoolPhysicalFight\n 0   :16681     0   :16260      0   :9309     0   :16014         \n 1   : 2301     1   : 1714      1   :2343     1   : 1446         \n NA's: 1121     NA's: 2129      NA's:8451     NA's: 2643         \n                                                                 \n                                                                 \n                                                                 \n                                                                 \n AttackedInNeighborhood ForcedSexualIntercourse SexualViolence\n 0   :11082             0   :15639              0   :13912    \n 1   : 3495             1   : 1663              1   : 1840    \n NA's: 5526             NA's: 2801              NA's: 4351    \n                                                              \n                                                              \n                                                              \n                                                              \n SexualAbuseByPartner PhysicalDatingViolence TreatedUnfairlyRace Bullying    \n 0   :12550           0   :10299             0   :12530          0   :15856  \n 1   :  891           1   : 1208             1   : 5756          1   : 4046  \n NA's: 6662           NA's: 8596             NA's: 1817          NA's:  201  \n                                                                             \n                                                                             \n                                                                             \n                                                                             \n CyberBullying Hopelessness SuicideIdeation SuicidePlan  SuicideAttempts\n 0   :16475    0   :11755   0   :15453      0   :15154   0   :17341     \n 1   : 3423    1   : 8108   1   : 4214      1   : 3212   1   : 1995     \n NA's:  205    NA's:  240   NA's:  436      NA's: 1737   NA's:  767     \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n SuicideInjuryMedicalAttention EverTriedCigarette FirstCigaretteBefore13\n 0   :14263                    0   :14331         0   :15682            \n 1   :  372                    1   : 3111         1   : 1138            \n NA's: 5468                    NA's: 2661         NA's: 3283            \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n CurrentlySmokingCigarette MoreThan10CigarettesPerDay EverTriedVaping\n 0   :18933                0   :  473                 0   :12835     \n 1   :  806                1   :   50                 1   : 6969     \n NA's:  364                NA's:19580                 NA's:  299     \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n CurrentlyVaping StoreSourceVaping CurrentlySmokelessTobacco\n 0   :15705      0   : 2492        0   :18431               \n 1   : 3386      1   :  154        1   :  492               \n NA's: 1012      NA's:17457        NA's: 1180               \n                                                            \n                                                            \n                                                            \n                                                            \n CurrentlySmokingCigar QuitTobacco  FirstAlcoholBefore13 CurrentlyAlcohol\n 0   :18074            0   : 2011   0   :16404           0   :15050      \n 1   :  868            1   : 2326   1   : 2844           1   : 4152      \n NA's: 1161            NA's:15766   NA's:  855           NA's:  901      \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n CurrentlyBingeDrinking MoreThan10Drinks SomeoneSourceAlcohol EverUsedMarijuana\n 0   :14010             0   :14054       0   : 1845           0   :11383       \n 1   : 1431             1   :  360       1   : 1181           1   : 5220       \n NA's: 4662             NA's: 5689       NA's:17077           NA's: 3500       \n                                                                               \n                                                                               \n                                                                               \n                                                                               \n FirstMarijuanaBefore13 CurrentlyUsingMarijuana PainMedicine EverUsedCocaine\n 0   :18067             0   :16193              0   :17165   0   :16411     \n 1   : 1172             1   : 3407              1   : 2362   1   :  436     \n NA's:  864             NA's:  503              NA's:  576   NA's: 3256     \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n EverUsedInhalant EverUsedHeroin EverUsedMethamphetamine EverUsedEcstasy\n 0   :13344       0   :19016     0   :18641              0   :16016     \n 1   :  882       1   :  306     1   :  340              1   :  479     \n NA's: 5877       NA's:  781     NA's: 1122              NA's: 3608     \n                                                                        \n                                                                        \n                                                                        \n                                                                        \n EverInjectedIllegalDrug EverHadSex   SexBefore13  Sex4OrMorePartners\n 0   :14905              0   :10701   0   :17976   0   :16527        \n 1   :  192              1   : 5420   1   :  597   1   : 1118        \n NA's: 5006              NA's: 3982   NA's: 1530   NA's: 2458        \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n SexuallyActive AlcoholOrDrugsSex UsedCondom   BirthControl VeryOverweight\n 0   :14362     0   : 2918        0   : 1886   0   : 2794   0   :7900     \n 1   : 3977     1   :  659        1   : 2023   1   :  695   1   :3895     \n NA's: 1764     NA's:16526        NA's:16194   NA's:16614   NA's:8308     \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n WeightLoss  NoFruitJuice NoFruit      NoSalad     NoPotatoes  NoCarrots  \n 0   :7529   0   :10723   0   :16728   0   :8497   0   :9689   0   :6825  \n 1   :6407   1   : 5885   1   : 2299   1   :6839   1   :5556   1   :8451  \n NA's:6167   NA's: 3495   NA's: 1076   NA's:4767   NA's:4858   NA's:4827  \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n NoOtherVeggies  NoSoda      NoBreakfast  PhysicalActivity AttendedPEClass\n 0   :12186     0   :10800   0   :11427   0   :9814        0   :7283      \n 1   : 3026     1   : 4383   1   : 2841   1   :9062        1   :6593      \n NA's: 4891     NA's: 4920   NA's: 5835   NA's:1227        NA's:6227      \n                                                                          \n                                                                          \n                                                                          \n                                                                          \n SportsTeam  ConcussionSports SocialMedia  HIVTested    STDTested   \n 0   :6267   0   :13209       0   : 3331   0   :14447   0   :12048  \n 1   :6697   1   : 2300       1   :11872   1   : 1072   1   :  730  \n NA's:7139   NA's: 4594       NA's: 4900   NA's: 4584   NA's: 7325  \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n DentistVisit NotGoodMentalHealth EightOrMoreHoursSleep Homelessness\n 0   : 4568   0   :10897          0   :13435            0   :14043  \n 1   :13356   1   : 4808          1   : 4006            1   :  498  \n NA's: 2179   NA's: 4398          NA's: 2662            NA's: 5562  \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n GradesSchool SexualAbuseByOlderPerson ParentalEmotionalAbuse\n 0   : 4856   0   :12648               0   :12129            \n 1   :11679   1   : 1175               1   : 1791            \n NA's: 3568   NA's: 6280               NA's: 6183            \n                                                             \n                                                             \n                                                             \n                                                             \n ParentalPhysicalAbuse ParentalDomesticViolence CurrentMisusePainMedicine\n 0   :13524            0   :13396               0   :11731               \n 1   :  393            1   :  357               1   :  650               \n NA's: 6186            NA's: 6350               NA's: 7722               \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n EverHallucinogenicDrugs AskedForConsent NoSportsDrinks NoDrinksWater\n 0   :10441              0   : 1075      0   :6550      0   :13145   \n 1   :  730              1   : 4417      1   :5359      1   :  439   \n NA's: 8932              NA's:14611      NA's:8194      NA's: 6519   \n                                                                     \n                                                                     \n                                                                     \n                                                                     \n ExcerciseMuscles Sunburn     AdultMeetingBasicNeeds ParentSubstanceUse\n 0   :5518        0   :4920   0   : 2175             1   :3829         \n 1   :5679        1   :5868   1   :13575             2   :9398         \n NA's:8906        NA's:9315   NA's: 4353             NA's:6876         \n                                                                       \n                                                                       \n                                                                       \n                                                                       \n ParentMentalIllness ParentIncarceration SchoolConnectedness ParentalMonitoring\n 1   :4306           1   : 2360          1   :6016           1   :9038         \n 2   :8999           2   :10982          2   :5161           2   :1812         \n NA's:6798           NA's: 6761          NA's:8926           NA's:9253         \n                                                                               \n                                                                               \n                                                                               \n                                                                               \n UnfairDisciplineAtSchool DifficultyConcentrating EnglishProficiency\n 1   :2171                1   :5261               1   :10550        \n 2   :8412                2   :5685               2   :  245        \n NA's:9520                NA's:9157               NA's: 9308        \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n SexSexualContact   Transgender       \n Length:20103       Length:20103      \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n                                      \n\nstr(clean_yrbs_2023)\n\ntibble [20,103 × 110] (S3: tbl_df/tbl/data.frame)\n $ weight                       : num [1:20103] 0.861 0.892 0.508 1.176 0.892 ...\n $ stratum                      : num [1:20103] 103 103 103 103 103 103 103 103 103 103 ...\n $ psu                          : num [1:20103] 16294 16294 16294 16294 16294 ...\n $ Sex                          : chr [1:20103] \"Female\" \"Male\" \"Male\" \"Female\" ...\n $ Race                         : chr [1:20103] NA \"White\" \"White\" \"White\" ...\n $ Age                          : int [1:20103] 14 15 16 17 14 16 17 15 15 17 ...\n $ Grade                        : chr [1:20103] \"9\" \"9\" \"11\" \"10\" ...\n $ SexOrientation               : chr [1:20103] \"Gay or Lesbian\" \"Heterosexual\" \"Bisexual\" \"Heterosexual\" ...\n $ HispanicLatino               : Factor w/ 2 levels \"1\",\"2\": NA 2 2 2 2 2 2 2 2 2 ...\n $ Height                       : num [1:20103] 1.65 NA 1.68 NA 1.85 1.8 1.83 1.52 1.65 1.63 ...\n $ Weight                       : num [1:20103] 81.7 NA 74.8 NA 56.7 ...\n $ SeatBeltUse                  : Factor w/ 2 levels \"0\",\"1\": 2 1 1 2 1 2 1 2 1 2 ...\n $ DrinkingDriver               : Factor w/ 2 levels \"0\",\"1\": 2 1 2 1 1 1 1 1 1 1 ...\n $ DrivingDrinking              : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 NA NA NA NA NA 1 ...\n $ TextingDriving               : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 NA NA NA NA NA NA ...\n $ WeaponCarryingSchool         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ GunCarrying                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 2 1 1 1 ...\n $ UnsafeAtSchool               : Factor w/ 2 levels \"0\",\"1\": 2 1 1 2 1 2 1 1 1 1 ...\n $ InjuredInSchool              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ PhysicalFight                : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 2 1 1 1 2 1 ...\n $ SchoolPhysicalFight          : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 2 1 ...\n $ AttackedInNeighborhood       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ ForcedSexualIntercourse      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ SexualViolence               : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SexualAbuseByPartner         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ PhysicalDatingViolence       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 NA 1 1 1 1 1 ...\n $ TreatedUnfairlyRace          : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 2 1 1 1 2 ...\n $ Bullying                     : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 1 1 ...\n $ CyberBullying                : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ Hopelessness                 : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 1 2 1 2 2 ...\n $ SuicideIdeation              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 2 NA ...\n $ SuicidePlan                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 1 1 1 1 2 ...\n $ SuicideAttempts              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 2 1 ...\n $ SuicideInjuryMedicalAttention: Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverTriedCigarette           : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 2 1 2 1 1 1 ...\n $ FirstCigaretteBefore13       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentlySmokingCigarette    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ MoreThan10CigarettesPerDay   : Factor w/ 2 levels \"0\",\"1\": NA NA NA NA NA NA NA NA NA NA ...\n $ EverTriedVaping              : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 2 2 1 2 1 ...\n $ CurrentlyVaping              : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 1 1 2 1 1 1 ...\n $ StoreSourceVaping            : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 NA NA 1 NA NA NA ...\n $ CurrentlySmokelessTobacco    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 1 1 1 1 1 ...\n $ CurrentlySmokingCigar        : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ QuitTobacco                  : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 1 NA 1 NA NA NA ...\n $ FirstAlcoholBefore13         : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ CurrentlyAlcohol             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 2 1 2 1 1 1 ...\n $ CurrentlyBingeDrinking       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 2 1 1 1 ...\n $ MoreThan10Drinks             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SomeoneSourceAlcohol         : Factor w/ 2 levels \"0\",\"1\": NA NA NA 1 1 NA 1 NA NA NA ...\n $ EverUsedMarijuana            : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 2 1 1 1 ...\n $ FirstMarijuanaBefore13       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentlyUsingMarijuana      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ PainMedicine                 : Factor w/ 2 levels \"0\",\"1\": 2 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedCocaine              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedInhalant             : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 1 1 1 1 1 1 ...\n $ EverUsedHeroin               : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedMethamphetamine      : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 1 1 1 1 ...\n $ EverUsedEcstasy              : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverInjectedIllegalDrug      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ EverHadSex                   : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 2 2 1 2 2 ...\n $ SexBefore13                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ Sex4OrMorePartners           : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ SexuallyActive               : Factor w/ 2 levels \"0\",\"1\": 1 1 2 2 2 1 2 1 1 2 ...\n $ AlcoholOrDrugsSex            : Factor w/ 2 levels \"0\",\"1\": NA NA 1 1 1 NA 1 NA NA 1 ...\n $ UsedCondom                   : Factor w/ 2 levels \"0\",\"1\": NA NA 2 1 2 NA 2 NA NA 2 ...\n $ BirthControl                 : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 1 NA 1 NA NA 2 ...\n $ VeryOverweight               : Factor w/ 2 levels \"0\",\"1\": 1 2 2 1 1 1 1 2 1 1 ...\n $ WeightLoss                   : Factor w/ 2 levels \"0\",\"1\": 2 2 2 1 1 1 1 2 1 1 ...\n $ NoFruitJuice                 : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 2 2 1 1 ...\n $ NoFruit                      : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 2 1 1 ...\n $ NoSalad                      : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 1 2 2 2 2 1 ...\n $ NoPotatoes                   : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 2 1 1 ...\n $ NoCarrots                    : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 2 2 2 2 2 1 ...\n $ NoOtherVeggies               : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 1 2 1 ...\n $ NoSoda                       : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ NoBreakfast                  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 2 1 1 1 ...\n $ PhysicalActivity             : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 2 2 2 1 1 1 ...\n $ AttendedPEClass              : Factor w/ 2 levels \"0\",\"1\": 2 2 2 2 1 2 1 1 1 1 ...\n $ SportsTeam                   : Factor w/ 2 levels \"0\",\"1\": 2 2 1 2 1 2 1 2 2 1 ...\n $ ConcussionSports             : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 2 2 2 1 1 2 ...\n $ SocialMedia                  : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 2 2 2 2 2 ...\n $ HIVTested                    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ STDTested                    : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ DentistVisit                 : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 2 2 2 1 1 1 ...\n $ NotGoodMentalHealth          : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 NA 1 1 1 1 ...\n $ EightOrMoreHoursSleep        : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 1 1 1 1 1 1 ...\n $ Homelessness                 : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ GradesSchool                 : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 1 1 1 1 ...\n $ SexualAbuseByOlderPerson     : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 1 1 1 1 1 1 ...\n $ ParentalEmotionalAbuse       : Factor w/ 2 levels \"0\",\"1\": NA 1 1 1 1 1 2 1 1 1 ...\n $ ParentalPhysicalAbuse        : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 2 1 1 1 1 ...\n $ ParentalDomesticViolence     : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ CurrentMisusePainMedicine    : Factor w/ 2 levels \"0\",\"1\": 2 1 1 1 1 1 1 1 1 1 ...\n $ EverHallucinogenicDrugs      : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ AskedForConsent              : Factor w/ 2 levels \"0\",\"1\": NA NA 2 2 1 2 2 NA 1 2 ...\n $ NoSportsDrinks               : Factor w/ 2 levels \"0\",\"1\": 1 1 2 1 1 1 2 2 1 1 ...\n $ NoDrinksWater                : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ ExcerciseMuscles             : Factor w/ 2 levels \"0\",\"1\": 1 2 1 1 2 2 1 1 1 1 ...\n $ Sunburn                      : Factor w/ 2 levels \"0\",\"1\": 2 2 1 1 2 1 2 2 2 1 ...\n  [list output truncated]\n\n\n\n\n\n\n# This is an example of how to create a dataset for a model.\n# You can use this as a template to create your own dataset.\n\n\nanalysis_data &lt;- clean_yrbs_2023 %&gt;%\n    select(\n        WeaponCarryingSchool, AttackedInNeighborhood, Bullying,\n        SexualAbuseByOlderPerson, ParentalPhysicalAbuse, ParentSubstanceUse,\n        ParentIncarceration, SchoolConnectedness, ParentalMonitoring,\n        UnfairDisciplineAtSchool, Homelessness\n    ) |&gt;\n    filter(!is.na(WeaponCarryingSchool)) %&gt;%\n    mutate(across(\n        c(\n            ParentSubstanceUse, ParentIncarceration, SchoolConnectedness,\n            ParentalMonitoring, UnfairDisciplineAtSchool\n        ),\n        ~ as.numeric(.x) - 1\n    )) %&gt;%\n    mutate(across(\n        c(\n            ParentSubstanceUse, ParentIncarceration, SchoolConnectedness,\n            ParentalMonitoring, UnfairDisciplineAtSchool\n        ),\n        ~ factor(.x)\n    ))\n\n\n\n\n\nset.seed(1990)\n\nanalysis_split &lt;- initial_split(analysis_data,\n    strata = WeaponCarryingSchool\n)\n\nanalysis_train &lt;- training(analysis_split)\nanalysis_test &lt;- testing(analysis_split)\n\nanalysis_split\n\n\n\n\n\nanalysis_folds &lt;- vfold_cv(analysis_train,\n    v = 5\n)\nanalysis_folds"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "I am Brileigh Cates\nI am a first year Master's Student and Graduate Teaching Assistant at Missouri University of Science and Technology studying statistics, researching functional connectivity and sleep states. With previous work in studying the gender bias in the music industry and work yet to come, I believe that the use of multiple interdisciplinary fields allows researchers to truly understand the different hypotheses and how to answer each question.\nIn this website, I investigated and learned different machine learning techniques and models to reveal patterns and insights in violent behaviors in young students, specifically by using suicide-related data. As an R user, I am committed to sharing my knowledge, skills, and experiences with the broader community to expand resources for all researchers.\nI am also dedicated to ensuring clarity and reproducibility in my work, using tools like Quarto and RMarkdown. This approach ensures that my research is trustworthy and easily followed by others.\nIf I could describe myself using three emojis I would select: 🐈 🎷 🎲"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Machine Learning Notebook 👀",
    "section": "",
    "text": "This website is a short notebook from a Machine Learning course taken in June of 2025, where various statistical and machine learning models were explored, using the Youth Risk Behavior Survey (YRBS) dataset from 2023. Through the course, and subsequently this notebook, I learned to implement and understand different modeling techniques, like lasso regression and random forest (as well as others), using the tidymodel framework in R.\n\nWhat You’ll Find Here\n\nAbout Me: A little bit about me and my research interests.\nThe Dataset: Information about my primary dataset and the research question I am trying to answer.\nModel Implementations: Hands-on examples of different models to answer the question:\n\nLogistic Regression\nLasso Regression\nDecision Trees\nRandom Forest"
  },
  {
    "objectID": "models/lasso.html",
    "href": "models/lasso.html",
    "title": "Lasso Regression",
    "section": "",
    "text": "Lasso regression is a statistical model that combines linear/logistic regression with L1 regularization to perform both variable selection and regularization. The term “Lasso” stands for “Least Absolute Shrinkage and Selection Operator.” This method is particularly useful when dealing with datasets that have many predictors, as it helps to:\nIn this analysis, we’ll use Lasso regression to predict weapon carrying behavior in schools, demonstrating how this method can help identify the most important predictors while maintaining model interpretability."
  },
  {
    "objectID": "models/lasso.html#setting-up-the-environment",
    "href": "models/lasso.html#setting-up-the-environment",
    "title": "Lasso Regression",
    "section": "Setting Up the Environment",
    "text": "Setting Up the Environment\nFirst, we need to load the necessary packages for our analysis. We’ll use tidymodels for modeling, tidyverse for data manipulation, and here for consistent file paths."
  },
  {
    "objectID": "models/lasso.html#loading-the-data",
    "href": "models/lasso.html#loading-the-data",
    "title": "Lasso Regression",
    "section": "Loading the Data",
    "text": "Loading the Data\nWe’ll work with pre-processed data sets that have been split into training and test sets, along with cross-validation folds. These files are stored in the processed_data directory.\n\nanalysis_data &lt;- readRDS(here(\"models\",\"data\", \"analysis_data.rds\"))\nanalysis_train &lt;- readRDS(here(\"models\",\"data\", \"analysis_train.rds\"))\nanalysis_test &lt;- readRDS(here(\"models\",\"data\", \"analysis_test.rds\"))\nanalysis_folds &lt;- readRDS(here(\"models\",\"data\", \"analysis_folds.rds\"))"
  },
  {
    "objectID": "models/lasso.html#data-preprocessing",
    "href": "models/lasso.html#data-preprocessing",
    "title": "Lasso Regression",
    "section": "Data Preprocessing",
    "text": "Data Preprocessing\nBefore fitting our model, we need to preprocess the data. We’ll create a recipe that: - Imputes missing values in categorical variables using the mode - Imputes missing values in numeric variables using the mean - Removes predictors with zero variance - Removes highly correlated predictors (correlation threshold = 0.7) - Creates dummy variables for categorical predictors\n\nweapon_carry_recipe &lt;- \n  recipe(formula = WeaponCarryingSchool ~ ., data = analysis_train) |&gt;\n  step_impute_mode(all_nominal_predictors()) |&gt;\n  step_impute_mean(all_numeric_predictors()) |&gt;\n  step_zv(all_predictors()) |&gt; \n  step_corr(all_numeric_predictors(), threshold = 0.7) %&gt;% \n  step_dummy(all_nominal_predictors())\n\nweapon_carry_recipe\n\n\n\n\n── Recipe ──────────────────────────────────────────────────────────────────────\n\n\n\n\n\n── Inputs \n\n\nNumber of variables by role\n\n\noutcome:    1\npredictor: 10\n\n\n\n\n\n── Operations \n\n\n• Mode imputation for: all_nominal_predictors()\n\n\n• Mean imputation for: all_numeric_predictors()\n\n\n• Zero variance filter on: all_predictors()\n\n\n• Correlation filter on: all_numeric_predictors()\n\n\n• Dummy variables from: all_nominal_predictors()\n\n\nLet’s apply our recipe to transform the data according to these preprocessing steps.\n\nweapon_carry_recipe %&gt;% \n  prep() %&gt;% \n  bake(new_data = analysis_data) \n\n# A tibble: 19,595 × 11\n   WeaponCarryingSchool AttackedInNeighborhood_X1 Bullying_X1\n   &lt;fct&gt;                                    &lt;dbl&gt;       &lt;dbl&gt;\n 1 0                                            0           0\n 2 0                                            0           1\n 3 0                                            0           0\n 4 0                                            0           0\n 5 0                                            0           0\n 6 0                                            1           0\n 7 0                                            0           0\n 8 0                                            0           0\n 9 0                                            0           0\n10 0                                            0           0\n# ℹ 19,585 more rows\n# ℹ 8 more variables: SexualAbuseByOlderPerson_X1 &lt;dbl&gt;,\n#   ParentalPhysicalAbuse_X1 &lt;dbl&gt;, ParentSubstanceUse_X1 &lt;dbl&gt;,\n#   ParentIncarceration_X1 &lt;dbl&gt;, SchoolConnectedness_X1 &lt;dbl&gt;,\n#   ParentalMonitoring_X1 &lt;dbl&gt;, UnfairDisciplineAtSchool_X1 &lt;dbl&gt;,\n#   Homelessness_X1 &lt;dbl&gt;"
  },
  {
    "objectID": "models/lasso.html#model-specification",
    "href": "models/lasso.html#model-specification",
    "title": "Lasso Regression",
    "section": "Model Specification",
    "text": "Model Specification\nWe’ll use a logistic regression model with Lasso regularization. The Lasso (Least Absolute Shrinkage and Selection Operator) helps with feature selection by penalizing the absolute size of coefficients. We set mixture = 1 to specify a pure Lasso model, and we’ll tune the penalty parameter to find the optimal level of regularization.\n\nweapon_carry_spec &lt;-\n  logistic_reg(penalty = tune(), \n               mixture = 1) |&gt; \n  set_engine('glmnet')\n\nweapon_carry_spec\n\nLogistic Regression Model Specification (classification)\n\nMain Arguments:\n  penalty = tune()\n  mixture = 1\n\nComputational engine: glmnet"
  },
  {
    "objectID": "models/lasso.html#creating-the-workflow",
    "href": "models/lasso.html#creating-the-workflow",
    "title": "Lasso Regression",
    "section": "Creating the Workflow",
    "text": "Creating the Workflow\nWe’ll combine our recipe and model specification into a single workflow. This ensures that all preprocessing steps are properly applied during both training and prediction.\n\nweapon_carry_workflow &lt;-\n  workflow() |&gt;\n  add_recipe(weapon_carry_recipe) |&gt;\n  add_model(weapon_carry_spec)\n\nweapon_carry_workflow\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n5 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_zv()\n• step_corr()\n• step_dummy()\n\n── Model ───────────────────────────────────────────────────────────────────────\nLogistic Regression Model Specification (classification)\n\nMain Arguments:\n  penalty = tune()\n  mixture = 1\n\nComputational engine: glmnet"
  },
  {
    "objectID": "models/lasso.html#model-tuning",
    "href": "models/lasso.html#model-tuning",
    "title": "Lasso Regression",
    "section": "Model Tuning",
    "text": "Model Tuning\nTo find the optimal penalty value, we’ll create a grid of potential values to test. We’ll use 50 different penalty values, evenly spaced on a logarithmic scale.\n\nlambda_grid &lt;- grid_regular(penalty(), levels = 50)\nlambda_grid\n\n# A tibble: 50 × 1\n    penalty\n      &lt;dbl&gt;\n 1 1   e-10\n 2 1.60e-10\n 3 2.56e-10\n 4 4.09e-10\n 5 6.55e-10\n 6 1.05e- 9\n 7 1.68e- 9\n 8 2.68e- 9\n 9 4.29e- 9\n10 6.87e- 9\n# ℹ 40 more rows\n\n\nNow, we’ll perform cross-validation to find the best penalty value. This process is time-consuming, so we’ll save the results for future use.\n\nset.seed(2023)\n\nlasso_tune &lt;- \n  tune_grid(\n  object = weapon_carry_workflow, \n  resamples = analysis_folds,\n  grid = lambda_grid, \n  control = control_resamples(event_level = \"second\")\n)\n\nsaveRDS(lasso_tune, here(\"models\",\"model_outputs\", \"lasso_tune.rds\"))\n\nLet’s examine the performance metrics for different penalty values.\n\nlasso_tune %&gt;% \n  collect_metrics()\n\n# A tibble: 150 × 7\n    penalty .metric     .estimator  mean     n std_err .config              \n      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;                \n 1 1   e-10 accuracy    binary     0.957     5 0.00158 Preprocessor1_Model01\n 2 1   e-10 brier_class binary     0.881     5 0.00160 Preprocessor1_Model01\n 3 1   e-10 roc_auc     binary     0.688     5 0.00742 Preprocessor1_Model01\n 4 1.60e-10 accuracy    binary     0.957     5 0.00158 Preprocessor1_Model02\n 5 1.60e-10 brier_class binary     0.881     5 0.00160 Preprocessor1_Model02\n 6 1.60e-10 roc_auc     binary     0.688     5 0.00742 Preprocessor1_Model02\n 7 2.56e-10 accuracy    binary     0.957     5 0.00158 Preprocessor1_Model03\n 8 2.56e-10 brier_class binary     0.881     5 0.00160 Preprocessor1_Model03\n 9 2.56e-10 roc_auc     binary     0.688     5 0.00742 Preprocessor1_Model03\n10 4.09e-10 accuracy    binary     0.957     5 0.00158 Preprocessor1_Model04\n# ℹ 140 more rows\n\n\nWe can visualize how the model’s performance changes with different penalty values.\n\nautoplot(lasso_tune)"
  },
  {
    "objectID": "models/lasso.html#selecting-the-best-model",
    "href": "models/lasso.html#selecting-the-best-model",
    "title": "Lasso Regression",
    "section": "Selecting the Best Model",
    "text": "Selecting the Best Model\nWe’ll select the best model based on the ROC AUC metric, which measures the model’s ability to distinguish between classes.\n\nbest &lt;- lasso_tune |&gt; \n  select_best(metric =\"roc_auc\")\n\nbest\n\n# A tibble: 1 × 2\n   penalty .config              \n     &lt;dbl&gt; &lt;chr&gt;                \n1 0.000339 Preprocessor1_Model33\n\n\nNow we’ll create our final workflow with the best penalty value.\n\nfinal_wf &lt;- finalize_workflow(weapon_carry_workflow, best)\n\nfinal_wf\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n5 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_zv()\n• step_corr()\n• step_dummy()\n\n── Model ───────────────────────────────────────────────────────────────────────\nLogistic Regression Model Specification (classification)\n\nMain Arguments:\n  penalty = 0.000339322177189533\n  mixture = 1\n\nComputational engine: glmnet"
  },
  {
    "objectID": "models/lasso.html#fitting-the-final-model",
    "href": "models/lasso.html#fitting-the-final-model",
    "title": "Lasso Regression",
    "section": "Fitting the Final Model",
    "text": "Fitting the Final Model\nWe’ll fit our final model on the training data. This process is also time-consuming, so we’ll save the results.\n\nweapon_fit &lt;- \n  fit(final_wf, data = analysis_train)\n\nweapon_fit\n\nsaveRDS(weapon_fit, here(\"models\",\"model_outputs\", \"weapon_fit.rds\"))"
  },
  {
    "objectID": "models/lasso.html#model-evaluation",
    "href": "models/lasso.html#model-evaluation",
    "title": "Lasso Regression",
    "section": "Model Evaluation",
    "text": "Model Evaluation\nLet’s examine the model’s predictions on the training data.\n\nweapon_pred &lt;- \n  augment(weapon_fit, analysis_train) |&gt; \n  select(WeaponCarryingSchool, .pred_class, .pred_1, .pred_0)\n\nweapon_pred\n\n# A tibble: 14,696 × 4\n   WeaponCarryingSchool .pred_class .pred_1 .pred_0\n   &lt;fct&gt;                &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;\n 1 0                    0            0.0368   0.963\n 2 0                    0            0.0410   0.959\n 3 0                    0            0.0253   0.975\n 4 0                    0            0.0325   0.968\n 5 0                    0            0.125    0.875\n 6 0                    0            0.0368   0.963\n 7 0                    0            0.0208   0.979\n 8 0                    0            0.0208   0.979\n 9 0                    0            0.0458   0.954\n10 0                    0            0.0529   0.947\n# ℹ 14,686 more rows\n\n\nWe can visualize the model’s performance using an ROC curve.\n\nroc_plot_training &lt;- \n  weapon_pred |&gt; \n  roc_curve(truth = WeaponCarryingSchool, .pred_1, event_level = \"second\") |&gt; \n  autoplot()\n\nsaveRDS(roc_plot_training, here(\"models\",\"roc_graphs\",\"lasso.rds\"))\n\nroc_plot_training \n\n\n\n\n\n\nLet’s look at the model coefficients to understand which predictors are most important.\n\nweapon_fit |&gt; \n  extract_fit_parsnip() |&gt; \n  tidy()\n\nWarning: package 'glmnet' was built under R version 4.3.3\n\n\n\nAttaching package: 'Matrix'\n\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\nLoaded glmnet 4.1-8\n\n\n# A tibble: 11 × 3\n   term                        estimate  penalty\n   &lt;chr&gt;                          &lt;dbl&gt;    &lt;dbl&gt;\n 1 (Intercept)                  -3.29   0.000339\n 2 AttackedInNeighborhood_X1     0.739  0.000339\n 3 Bullying_X1                   0.472  0.000339\n 4 SexualAbuseByOlderPerson_X1   0.455  0.000339\n 5 ParentalPhysicalAbuse_X1      0.708  0.000339\n 6 ParentSubstanceUse_X1        -0.132  0.000339\n 7 ParentIncarceration_X1        0.0271 0.000339\n 8 SchoolConnectedness_X1       -0.226  0.000339\n 9 ParentalMonitoring_X1         0.584  0.000339\n10 UnfairDisciplineAtSchool_X1  -0.229  0.000339\n11 Homelessness_X1               1.17   0.000339"
  },
  {
    "objectID": "models/lasso.html#cross-validation-results",
    "href": "models/lasso.html#cross-validation-results",
    "title": "Lasso Regression",
    "section": "Cross-Validation Results",
    "text": "Cross-Validation Results\nWe’ll fit the model on each cross-validation fold to get a more robust estimate of its performance.\n\nweapon_fit_resamples &lt;- \n  fit_resamples(final_wf, resamples = analysis_folds)\n\nweapon_fit_resamples\n\nLet’s examine the cross-validation metrics.\n\ncollect_metrics(weapon_fit_resamples)\n\n# A tibble: 3 × 6\n  .metric     .estimator   mean     n std_err .config             \n  &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy    binary     0.957      5 0.00158 Preprocessor1_Model1\n2 brier_class binary     0.0399     5 0.00128 Preprocessor1_Model1\n3 roc_auc     binary     0.688      5 0.00737 Preprocessor1_Model1"
  },
  {
    "objectID": "models/lasso.html#variable-importance",
    "href": "models/lasso.html#variable-importance",
    "title": "Lasso Regression",
    "section": "Variable Importance",
    "text": "Variable Importance\nFinally, let’s create a variable importance plot to identify the most influential predictors in our model.\n\nlibrary(vip)\n\nWarning: package 'vip' was built under R version 4.3.3\n\n\n\nAttaching package: 'vip'\n\n\nThe following object is masked from 'package:utils':\n\n    vi\n\nweapon_fit |&gt; \n  extract_fit_engine() |&gt; \n  vip()"
  },
  {
    "objectID": "models/random-forest.html",
    "href": "models/random-forest.html",
    "title": "Random Forest",
    "section": "",
    "text": "Random forest is an ensemble learning method that builds multiple decision trees and combines their predictions to improve accuracy and stability. Each tree is trained on a random subset of the data and features, and the final prediction is typically made by majority vote (for classification) or averaging (for regression). Random forest is effective because it:\nIn this analysis, we’ll use a random forest to predict weapon-carrying behavior, leveraging its ability to handle complex, non-linear patterns and uncover influential variables that may not be obvious in simpler models."
  },
  {
    "objectID": "models/random-forest.html#setting-up-the-environment",
    "href": "models/random-forest.html#setting-up-the-environment",
    "title": "Random Forest",
    "section": "Setting Up the Environment",
    "text": "Setting Up the Environment\nFirst, we need to load the necessary packages for our analysis. We’ll use tidymodels for modeling, tidyverse for data manipulation, and here for consistent file paths.\n\nLoading the Data\nWe’ll work with pre-processed data sets that have been split into training and test sets, along with cross-validation folds. These files are stored in the processed_data directory.\n\nanalysis_data &lt;- readRDS(here(\"models\",\"data\",\"analysis_data.rds\"))\nanalysis_train &lt;- readRDS(here(\"models\",\"data\", \"analysis_train.rds\"))\nanalysis_folds &lt;- readRDS(here(\"models\",\"data\", \"analysis_folds.rds\"))"
  },
  {
    "objectID": "models/random-forest.html#data-preprocessing",
    "href": "models/random-forest.html#data-preprocessing",
    "title": "Random Forest",
    "section": "Data Preprocessing",
    "text": "Data Preprocessing\nBefore fitting our model, we need to preprocess the data. We’ll create a recipe that: - Imputes missing values in categorical variables using the mode - Imputes missing values in numeric variables using the mean - Creates dummy variables for categorical predictors\n\nweapon_carrying_forest_recipe &lt;- \n  recipe(formula = WeaponCarryingSchool ~ ., data = analysis_train) |&gt;\n  step_impute_mode(all_nominal_predictors()) |&gt;\n  step_impute_mean(all_numeric_predictors()) |&gt; \n  step_dummy(all_nominal_predictors())\n\nLet’s apply our recipe to transform the data according to these preprocessing steps.\n\nweapon_carrying_forest_recipe %&gt;% \n  prep() %&gt;% \n  bake(new_data = analysis_train) \n\n# A tibble: 14,696 × 11\n   WeaponCarryingSchool AttackedInNeighborhood_X1 Bullying_X1\n   &lt;fct&gt;                                    &lt;dbl&gt;       &lt;dbl&gt;\n 1 0                                            0           0\n 2 0                                            0           1\n 3 0                                            0           0\n 4 0                                            0           0\n 5 0                                            1           0\n 6 0                                            0           0\n 7 0                                            0           0\n 8 0                                            0           0\n 9 0                                            0           0\n10 0                                            1           0\n# ℹ 14,686 more rows\n# ℹ 8 more variables: SexualAbuseByOlderPerson_X1 &lt;dbl&gt;,\n#   ParentalPhysicalAbuse_X1 &lt;dbl&gt;, ParentSubstanceUse_X1 &lt;dbl&gt;,\n#   ParentIncarceration_X1 &lt;dbl&gt;, SchoolConnectedness_X1 &lt;dbl&gt;,\n#   ParentalMonitoring_X1 &lt;dbl&gt;, UnfairDisciplineAtSchool_X1 &lt;dbl&gt;,\n#   Homelessness_X1 &lt;dbl&gt;"
  },
  {
    "objectID": "models/random-forest.html#model-specification",
    "href": "models/random-forest.html#model-specification",
    "title": "Random Forest",
    "section": "Model Specification",
    "text": "Model Specification\nWe’ll use a random forest model, which is an ensemble of decision trees trained on different random subsets of the data and predictors. This model aggregates the predictions of many trees to improve accuracy and reduce overfitting. Key hyperparameters to be tuned include mtry (the number of predictors considered at each split) and min_n (the minimum number of observations required to split a node). Random forest also provides feature importance scores, helping us identify which variables are most influential in predicting weapon carrying.\n\nweapon_carrying_forest_spec &lt;- \n  rand_forest(\n    # the number of predictors to sample at each split\n    mtry = tune(), \n    # the number of observations needed to keep splitting nodes\n    min_n = tune(),\n    trees = 100) |&gt;  \n  set_mode(\"classification\") |&gt;  \n  set_engine(\"ranger\", \n             # This is essential for vip()\n             importance = \"permutation\") \n\nweapon_carrying_forest_spec\n\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = tune()\n  trees = 100\n  min_n = tune()\n\nEngine-Specific Arguments:\n  importance = permutation\n\nComputational engine: ranger"
  },
  {
    "objectID": "models/random-forest.html#creating-the-workflow",
    "href": "models/random-forest.html#creating-the-workflow",
    "title": "Random Forest",
    "section": "Creating the Workflow",
    "text": "Creating the Workflow\nWe’ll combine our recipe and model specification into a single workflow. This ensures that all preprocessing steps are properly applied during both training and prediction.\n\nweapon_carrying_forest_workflow &lt;- \n  workflow() |&gt; \n  add_recipe(weapon_carrying_forest_recipe) |&gt;  \n  add_model(weapon_carrying_forest_spec) \n\nweapon_carrying_forest_workflow\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: rand_forest()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n3 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_dummy()\n\n── Model ───────────────────────────────────────────────────────────────────────\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = tune()\n  trees = 100\n  min_n = tune()\n\nEngine-Specific Arguments:\n  importance = permutation\n\nComputational engine: ranger \n\n\nTo identify the best hyperparameter combination for the random forest model, we’ll use the tune_grid() function along with 11 automatically selected combinations. This approach allows us to efficiently explore a representative sample of the hyperparameter space without having to define a full grid manually. We’ll perform cross-validation to find the best penalty value. This process is time-consuming, so we’ll save the results for future use.\n\nset.seed(46257)\n  \nweapon_carrying_forest_tune &lt;-\n  tune_grid(\n    weapon_carrying_forest_workflow,\n    resamples = analysis_folds,\n# grid = 11 says to choose 11 parameter sets automatically \n    grid = 11)\n\ncollect_metrics(weapon_carrying_forest_tune)\n\nautoplot(weapon_carrying_forest_tune)\n\nsaveRDS(weapon_carrying_forest_tune, here(\"models\",\"model_outputs\", \"forest_tune.rds\"))\n\n\n\n# A tibble: 33 × 8\n    mtry min_n .metric     .estimator   mean     n std_err .config              \n   &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;                \n 1     1    17 accuracy    binary     0.957      5 0.00142 Preprocessor1_Model01\n 2     1    17 brier_class binary     0.0402     5 0.00126 Preprocessor1_Model01\n 3     1    17 roc_auc     binary     0.684      5 0.00987 Preprocessor1_Model01\n 4     1    32 accuracy    binary     0.957      5 0.00142 Preprocessor1_Model02\n 5     1    32 brier_class binary     0.0403     5 0.00125 Preprocessor1_Model02\n 6     1    32 roc_auc     binary     0.685      5 0.00956 Preprocessor1_Model02\n 7     2     5 accuracy    binary     0.957      5 0.00142 Preprocessor1_Model03\n 8     2     5 brier_class binary     0.0400     5 0.00127 Preprocessor1_Model03\n 9     2     5 roc_auc     binary     0.685      5 0.00985 Preprocessor1_Model03\n10     3    21 accuracy    binary     0.957      5 0.00142 Preprocessor1_Model04\n# ℹ 23 more rows"
  },
  {
    "objectID": "models/random-forest.html#selecting-the-best-model",
    "href": "models/random-forest.html#selecting-the-best-model",
    "title": "Random Forest",
    "section": "Selecting the Best Model",
    "text": "Selecting the Best Model\nWe’ll select the best model based on the ROC AUC metric, which measures the model’s ability to distinguish between classes.\n\nbest &lt;- select_best(weapon_carrying_forest_tune, metric = \"roc_auc\")\nbest\n\n# A tibble: 1 × 3\n   mtry min_n .config              \n  &lt;int&gt; &lt;int&gt; &lt;chr&gt;                \n1     1    32 Preprocessor1_Model02\n\n\nNow we’ll create our final workflow with the best hyperparameters.\n\nfinal_wf &lt;- finalize_workflow(weapon_carrying_forest_workflow, best)\n\nfinal_wf\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: rand_forest()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n3 Recipe Steps\n\n• step_impute_mode()\n• step_impute_mean()\n• step_dummy()\n\n── Model ───────────────────────────────────────────────────────────────────────\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = 1\n  trees = 100\n  min_n = 32\n\nEngine-Specific Arguments:\n  importance = permutation\n\nComputational engine: ranger"
  },
  {
    "objectID": "models/random-forest.html#fitting-the-final-model",
    "href": "models/random-forest.html#fitting-the-final-model",
    "title": "Random Forest",
    "section": "Fitting the Final Model",
    "text": "Fitting the Final Model\nWe’ll fit our final model on the training data. This process is also time-consuming, so we’ll save the results.\n\nweapon_carrying_forest_fit &lt;- fit(final_wf, analysis_train)\n\nsaveRDS(weapon_carrying_forest_fit, here(\"models\",\"model_outputs\", \"forest_fit.rds\"))"
  },
  {
    "objectID": "models/random-forest.html#model-evaluation",
    "href": "models/random-forest.html#model-evaluation",
    "title": "Random Forest",
    "section": "Model Evaluation",
    "text": "Model Evaluation\nLet’s examine the model’s predictions on the training data.\n\nforest_pred &lt;- \n  augment(weapon_carrying_forest_fit, analysis_train) |&gt; \n  select(WeaponCarryingSchool, .pred_class, .pred_1, .pred_0)\n\nforest_pred\n\n# A tibble: 14,696 × 4\n   WeaponCarryingSchool .pred_class .pred_1 .pred_0\n   &lt;fct&gt;                &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;\n 1 0                    0            0.0465   0.953\n 2 0                    0            0.0416   0.958\n 3 0                    0            0.0335   0.967\n 4 0                    0            0.0397   0.960\n 5 0                    0            0.105    0.895\n 6 0                    0            0.0465   0.953\n 7 0                    0            0.0308   0.969\n 8 0                    0            0.0308   0.969\n 9 0                    0            0.0489   0.951\n10 0                    0            0.0465   0.954\n# ℹ 14,686 more rows\n\n\nWe can visualize the model’s performance using an ROC curve.\n\nroc_forest &lt;- \n  forest_pred |&gt; \n  roc_curve(truth = WeaponCarryingSchool, \n           .pred_1, \n           event_level = \"second\") |&gt; \n  autoplot()\n\nroc_forest\n\nsaveRDS(roc_forest, here(\"models\",\"roc_graphs\",\"forest.rds\"))\n\nforest_pred |&gt; \n  roc_auc(truth = WeaponCarryingSchool, \n           .pred_1, \n           event_level = \"second\")\n\n\n#echo: false\n\nroc_forest &lt;- readRDS(here(\"models\",\"roc_graphs\",\"forest.rds\"))\n\nroc_forest"
  },
  {
    "objectID": "models/random-forest.html#cross-validation-results",
    "href": "models/random-forest.html#cross-validation-results",
    "title": "Random Forest",
    "section": "Cross-Validation Results",
    "text": "Cross-Validation Results\nWe’ll fit the model on each cross-validation fold to get a more robust estimate of its performance.\n\nfit_resamples(final_wf, resamples = analysis_folds) |&gt; \n  collect_metrics()\n\nWarning: package 'ranger' was built under R version 4.3.3\n\n\n# A tibble: 3 × 6\n  .metric     .estimator   mean     n std_err .config             \n  &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy    binary     0.957      5 0.00142 Preprocessor1_Model1\n2 brier_class binary     0.0402     5 0.00125 Preprocessor1_Model1\n3 roc_auc     binary     0.686      5 0.0103  Preprocessor1_Model1"
  }
]